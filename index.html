<!DOCTYPE html>
<html>
  <head>
    <title>Verifiable Credentials Data Model 1.0</title>
    <meta http-equiv='Content-Type' content='text/html;charset=utf-8'/>
    <!--
      === NOTA BENE ===
      For the three scripts below, if your spec resides on dev.w3 you can check them
      out in the same tree and use relative links so that they'll work offline,
     -->
    <script src='https://www.w3.org/Tools/respec/respec-w3c-common' class='remove'></script>
    <script src="./common.js" class="remove"></script>
    <script type="text/javascript" class="remove">
      var respecConfig = {
        // specification status (e.g., WD, LCWD, NOTE, etc.). If in doubt use ED.
        specStatus: "ED",

        // the specification's short name, as in http://www.w3.org/TR/short-name/
        shortName: "vc-data-model",

        // subtitle for the spec
        subtitle: "Expressing verifiable information on the Web",

        // if you wish the publication date to be other than today, set this
        //publishDate:  "2017-08-03",

        // if there is a previously published draft, uncomment this and set its YYYY-MM-DD date
        // and its maturity status
        // previousPublishDate:  "1977-03-15",
        // previousMaturity:  "WD",

        // extend the bibliography entries
        localBiblio: vcwg.localBiblio,
        doJsonLd: true,

        github: "https://github.com/w3c/vc-data-model/",
        includePermalinks: false,

        // if there a publicly available Editor's Draft, this is the link
        edDraftURI: "https://w3c.github.io/vc-data-model/",

        // if this is a LCWD, uncomment and set the end of its review period
        // lcEnd: "2009-08-05",

        // editors, add as many as you like
        // only "name" is required
        editors:  [
          { name: "Manu Sporny", url: "http://manu.sporny.org/",
            company: "Digital Bazaar", companyURL: "http://digitalbazaar.com/" },
          { name: "Daniel C. Burnett", url: "https://www.linkedin.com/in/daburnett/",
            company: "Invited Expert", companyURL: "https://www.linkedin.com/in/daburnett/"},
          { name: "Dave Longley", url: "https://github.com/dlongley",
            company: "Digital Bazaar", companyURL: "http://digitalbazaar.com/"},
          { name: "Gregg Kellogg", url: "http://greggkellogg.net/",
            company: "Spec-Ops", companyURL: "https://spec-ops.io/",
            w3cid: "44770" }
        ],
        // authors, add as many as you like.
        // This is optional, uncomment if you have authors as well as editors.
        // only "name" is required. Same format as editors.
        authors:
        [
          { name: "Manu Sporny", url: "http://digitalbazaar.com/",
            company: "Digital Bazaar", companyURL: "http://digitalbazaar.com/" },
          { name: "Dave Longley", url: "http://digitalbazaar.com/",
            company: "Digital Bazaar", companyURL: "http://digitalbazaar.com/"}
        ],
        // name of the WG
        wg:           "Verifiable Claims Working Group",

        // URI of the public WG page
        wgURI:        "https://www.w3.org/2017/vc/",

        // name (with the @w3c.org) of the public mailing to which comments are due
        wgPublicList: "public-vc-comments",

        // URI of the patent status for this WG, for Rec-track documents
        // !!!! IMPORTANT !!!!
        // This is important for Rec-track documents, do not copy a patent URI from a random
        // document unless you know what you're doing. If in doubt ask your friendly neighbourhood
        // Team Contact.
        wgPatentURI:  "https://www.w3.org/2004/01/pp-impl/98922/status",
        maxTocLevel: 2,
        inlineCSS: true
      };
    </script>
    <style>
pre .highlight {
  font-weight: bold;
  color: green;
}
pre .subject {
  font-weight: bold;
  color: RoyalBlue;
}
pre .property {
  font-weight: bold;
  color: DarkGoldenrod;
}
pre .comment {
  font-weight: bold;
  color: Gray;
}
    </style>
  </head>
  <body>
    <section id='abstract'>
      <p>
<a>Credentials</a> are a part of our daily lives; driver's licenses are used to
assert that we are capable of operating a motor vehicle, university degrees
can be used to assert our level of education, and government-issued passports
enable us to travel between countries. This specification provides a mechanism
to express these sorts of <a>credentials</a> on the Web in a way that is
cryptographically secure, privacy respecting, and machine verifiable.
      </p>
    </section>

    <section id='sotd'>
      <p>
Comments regarding this document are welcome. Please file issues
directly on <a href="https://github.com/w3c/vc-data-model/issues/">GitHub</a>,
or send them to
<a href="mailto:public-vc-comments@w3.org">public-vc-comments@w3.org</a>
(<a href="mailto:public-vc-comments-request@w3.org?subject=subscribe">subscribe</a>,
<a href="https://lists.w3.org/Archives/Public/public-vc-comments/">archives</a>).
      </p>

      <p class="issue" data-number=201>
There remain a list of editorial issues that need to be processed in this
document.
      </p>
    </section>

    <section class="informative">
      <h2>Introduction</h2>

      <p>
<a>Credentials</a> are a part of our daily lives; driver's licenses are used to
assert that we are capable of operating a motor vehicle, university degrees
can be used to assert our level of education, and government-issued passports
enable us to travel between countries. These <a>credentials</a> provide
benefits to us when used in the physical world, but their use on the Web
continues to be elusive.
      </p>

      <p>
Currently it is difficult to express education qualifications, healthcare
data, financial account details, and other sorts of third-party verified
machine-readable personal information on the Web. The difficulty of expressing
digital <a>credentials</a> on the Web makes it challenging to receive the same
benefits through the Web that physical <a>credentials</a> provide us in the
physical world.
      </p>

      <p>
This specification provides a standard way to express <a>credentials</a> on the
Web in a way that is cryptographically secure, privacy-respecting, and
machine-verifiable.
      </p>

      <p>
For those unfamiliar with the concepts related to
<a>verifiable credentials</a>, the following sections provide an overview of:
      </p>

      <ul>
        <li>
The components that constitute a <a>verifiable credential</a>
        </li>
        <li>
The components that constitute a <a>verifiable presentation</a>
        </li>
        <li>
An ecosystem where <a>verifiable credentials</a> and
<a>verifiable presentations</a> are expected to be useful
        </li>
        <li>
The use cases and requirements that informed this specification.
        </li>
      </ul>

      <section>
        <h3>What is a Verifiable Credential?</h3>

        <p>
In the physical world, a <a>credential</a> might consist of:
        </p>

        <ul>
          <li>
Information related to the subject of the <a>credential</a> (for example, a
photo, name, and identification number)
          </li>
          <li>
Information related to the issuing authority (for example, a city government,
national agency, or certification body)
          </li>
          <li>
Evidence related to how the <a>credential</a> was derived
          </li>
          <li>
Information related to expiration dates.
          </li>
        </ul>

        <p>
A <a>verifiable credential</a> can represent all of the same information that a
physical <a>credential</a> represents. The addition of technologies, such as
digital signatures, makes <a>verifiable credentials</a> more tamper-evident and
therefore more trustworthy than their physical counterparts. <a>Holders</a> of
<a>verifiable credentials</a> can generate <a>presentations</a> and then share
these <a>presentations</a> with <a>verifiers</a> to prove they possess
<a>verifiable credentials</a> with certain characteristics. Both
<a>credentials</a> and <a>presentations</a> can be transmitted rapidly, making
them more convenient than their physical counterparts when trying to establish
trust at a distance.
        </p>
        <p>
While this specification attempts to improve the ease of expressing digital
<a>credentials</a>, it also attempts to balance this goal with a number of
privacy-preserving goals. The persistence of digital information, and the ease
with which disparate sources of digital data can be collected and correlated,
comprise a privacy concern that the use of verifiable and easily
machine-readable <a>credentials</a> threatens to make worse. The
<a href="#privacy-considerations">Privacy Considerations</a> section in this
document outlines and attempts to address a number of these issues. Examples of
how to use this data model using privacy-enhancing technologies, such as
zero-knowledge proofs, are also provided throughout this document.
        </p>
      </section>

      <section class="informative">
        <h3>Ecosystem Overview</h3>

        <p>
This section describes the roles of the core actors and the relationships
between them in an ecosystem where <a>verifiable credentials</a> are expected
to be useful. A role is an abstraction that might be implemented in many
different ways. The separation of roles suggests likely interfaces and
protocols for standardization. The following roles are introduced in this
specification:
        </p>

        <dl>
          <dt><a>holder</a></dt>
          <dd>
A role an <a>entity</a> might perform by possessing one or more
<a>verifiable credentials</a> and generating <a>presentations</a> from them.
Example holders include students, employees, and customers.
          </dd>
          <dt><a>issuer</a></dt>
          <dd>
A role an <a>entity</a> might perform by creating a
<a>verifiable credential</a>, associating it with a specific <a>subject</a>,
and transmitting it to a <a>holder</a>. Example issuers include
corporations, non-profit organizations, trade associations, governments, and
individuals.
          </dd>
          <dt><a>verifier</a></dt>
          <dd>
A role an <a>entity</a> might perform by requesting and receiving a
<a>verifiable presentation</a> that proves the <a>holder</a> possesses the
required <a>verifiable credentials</a> with certain characteristics. Example
verifiers include employers, security personnel, and websites.
          </dd>
          <dt><a>verifiable data registry</a></dt>
          <dd>
A role a system might perform by mediating the creation and verification of
<a>issuer</a> identifiers, keys, and other relevant data, such as
<a>verifiable credential</a> schemas and revocation registries, which might be
required to use <a>verifiable credentials</a>. Some configurations might
require correlatable identifiers for <a>subjects</a>. Example verifiable data
registries include trusted databases, decentralized databases, government ID
databases, and distributed ledgers. Often there is more than one type of
verifiable data registry utilized in an ecosystem.
          </dd>
        </dl>

        <figure>
          <img style="margin: auto; display: block;" width="75%" src="diagrams/ecosystem.svg">
          <figcaption style="text-align: center;">
            The roles and information flows forming the basis for this specification.
          </figcaption>
        </figure>

        <p class="note">
The ecosystem above is provided as an example to ground the rest of the
concepts in this specification. Other ecosystems exist, such as protected
environments or proprietary systems, where <a>verifiable credentials</a> also
provide benefit.
        </p>
      </section>

      <section class="informative">
        <h3>Use Cases and Requirements</h3>

        <p>
The Verifiable Credentials Use Cases [[VC-USECASES]] document outlines a number
of key topics that readers might find useful, including:
        </p>

        <ul>
          <li>
A more thorough explanation of the
<a href="https://www.w3.org/TR/verifiable-claims-use-cases/#user-roles">roles</a>
introduced above
          </li>
          <li>
The
<a href="https://www.w3.org/TR/verifiable-claims-use-cases/#user-needs">needs</a>
identified in market verticals, such as education, finance, healthcare, retail,
professional licensing, and government
          </li>
          <li>
Common
<a href="https://www.w3.org/TR/verifiable-claims-use-cases/#user-tasks">tasks</a>
performed by the roles in the ecosystem, as well as their associated
requirements
          </li>
          <li>
Common
<a href="https://www.w3.org/TR/verifiable-claims-use-cases/#user-sequences">sequences and flows</a>
identified by the Working Group.
          </li>
        </ul>

        <p>
As a result of documenting and analyzing the use cases document, a number of
desirable ecosystem characteristics were identified for this specification,
specifically:
        </p>

        <ul>
          <li>
<a>Holders</a> receive and store <a>verifiable credentials</a> from
<a>issuers</a>. <a>Holders</a> might interact with an <a>issuer</a> through an
agent that the <a>issuer</a> does not need to trust.
          </li>
          <li>
<a>Holders</a> are positioned between <a>issuers</a> and <a>verifiers</a>
and use <a>verifiable credentials</a> to make <a>verifiable presentations</a>
to <a>verifiers</a>.
          </li>
          <li>
<a>Holders</a> might interact with <a>verifiers</a> through an agent that
<a>verifiers</a> do not need to trust; <a>verifiers</a> only need to trust
<a>issuers</a>.
          </li>
          <li>
<a>Verifiable credentials</a> are associated with <a>subjects</a>, not
specific services; <a>holders</a> decide how to aggregate and manage
<a>verifiable credentials</a> and the <a>verifiable presentations</a>
associated with them.
          </li>
          <li>
<a>Holders</a> can easily acquire and control their identifiers.
          </li>
          <li>
<a>Holders</a> control which <a>verifiable credentials</a> to use and when.
          </li>
          <li>
<a>Holders</a> can freely choose and change the agents they employ to help
them manage their <a>verifiable credentials</a> and generate and share
<a>verifiable presentations</a>.
          </li>
          <li>
<a>Holders</a> can share <a>verifiable presentations</a> that can be verified
without revealing the identity of the <a>verifier</a> to the <a>issuer</a>.
          </li>
          <li>
<a>Holders</a> in <a>presentations</a> can either disclose the attributes or
satisfy <a>derived predicates</a> requested by the <a>verifier</a>.
<a>Derived predicates</a> are boolean conditions like greater than, less than,
equal to, is in set, and so on.
          </li>
          <li>
<a>Verifiable credentials</a> and <a>verifiable presentations</a> are
expressed in one or more standard, machine-readable data formats, which can
also be extended with minimal coordination.
          </li>
          <li>
<a>Issuers</a> issue <a>verifiable credentials</a>, and <a>holders</a> store
them. <a>Holders</a> offer <a>verifiable presentations</a>, and
<a>verifiers</a> verify them. Issuing of <a>credentials</a>, storage of
<a>credentials</a>, generation of <a>presentations</a>, sharing of
<a>presentations</a>, and verification of <a>presentations</a> are
each independent processes.
          </li>
          <li>
<a>Verifiable credentials</a> can be revoked by the <a>issuer</a>.
          </li>
        </ul>

        <p class="issue">
There are
<a href="https://www.w3.org/TR/verifiable-claims-use-cases/#user-tasks">other requirements</a>
listed in the Verifiable Credentials Use Cases
document that may or may not be aligned with the requirements listed above.
The VCWG will be ensuring alignment of the list of requirements from both
documents over time and will most likely move the list of requirements to a
single document.
        </p>
      </section>
    </section>

    <section class="informative">
      <h2>Terminology</h2>

      <div data-include="./terms.html"
        data-oninclude="restrictReferences">
      </div>
    </section>

    <section class="informative">
      <h2>Core Data Model</h2>

      <p>
The following sections outline core data model concepts, such as
<a>claims</a>, <a>credentials</a>, and <a>presentations</a>, that form the
foundation of this specification.
      </p>

      <section class="informative">
        <h3>Claims</h3>

        <p>
A <a>claim</a> is statement about a <a>subject</a>. A <a>subject</a> is an
<a>entity</a> about which <a>claims</a> can be made. <a>Claims</a> are
expressed using
<strong><em>subject</em></strong>-<dfn data-lt="property|properties">property</dfn>-<dfn>value</dfn>
relationships.
        </p>

        <figure>
          <img style="margin: auto; display: block;"
            width="50%" src="diagrams/claim.svg">
          <figcaption style="text-align: center;">
The basic structure of a claim.
          </figcaption>
        </figure>

        <p>
The data model for <a>claims</a> described above is powerful and can be used
to express a large variety of statements. For example, whether or not someone
graduated from a particular university can be expressed as shown below.
        </p>

        <figure>
          <img style="margin: auto; display: block;"
            width="60%" src="diagrams/claim-example.svg">
          <figcaption style="text-align: center;">
An example of a basic claim expressing that Pat is an alumni of
"Example University".
          </figcaption>
        </figure>

        <p>
These <a>claims</a> can be merged together to express a <a>graph</a> of
information about a <a>subject</a>. The example below extends the previous
<a>graph</a> of information by adding <a>claims</a> stating that Pat knows Sam
and that Sam is employed as a professor.
        </p>

        <figure>
          <img style="margin: auto; display: block;"
            width="75%" src="diagrams/claim-extended.svg">
          <figcaption style="text-align: center;">
Multiple claims can be combined to express a more complex graph.
          </figcaption>
        </figure>

        <p>
To this point, the concept of a <a>claim</a> and a <a>graph</a> of information
is introduced. To be able to trust <a>claims</a>, more information must be
added.
        </p>
      </section>

      <section class="informative">
        <h3>Credentials</h3>

        <p>
A <a>credential</a> is set of one or more <a>claims</a> made by the same
<a>entity</a>. <a>Credentials</a> might include an identifier as well as
metadata to describe properties of the <a>credential</a>, such as the
<a>issuer</a>, the expiry time, a representative image, a public key to use
for <a>verification</a> purposes, the revocation mechanism, and so on. This
metadata might be signed by the <a>issuer</a>. A <a>verifiable credential</a>
is a set of tamper-evident <a>claims</a> and metadata that cryptographically
prove who issued it.
        </p>

        <figure>
          <img style="margin: auto; display: block;" width="50%" src="diagrams/credential.svg">
          <figcaption style="text-align: center;">
The basic components of a verifiable credential.
          </figcaption>
        </figure>

        <p>
Examples of <a>verifiable credentials</a> include digital employee
identification cards, digital birth certificates, and digital educational
certificates.
        </p>

        <p class="note">
<a>Credential</a> identifiers are often used to identify specific instances
of a <a>credential</a>. These identifiers can also be used for correlation. A
<a>holder</a> wanting to minimize correlation MUST use a selective disclosure
scheme that does not reveal the <a>credential</a> identifier.
        </p>

        <p>
The example above provides a simple visual describing the components of a
<a>verifiable credential</a>, but abstracts some of the details about how
<a>claims</a> are organized into <a>graphs</a>, which are then organized into
<a>verifiable credentials</a>. The example below attempts to provide a
complete visual depiction of a <a>verifiable credential</a>, which is
normally composed of at least two <a>graphs</a> of information.
The first <a>graph</a> expresses the <a>credential</a> itself, which contains
<span style="color:#d5a6bdff;font-weight:bold;text-shadow: -1px 0 black, 0 1px black, 1px 0 black, 0 -1px black;">credential metadata</span> and
<span style="color:#ffe599ff;font-weight:bold;text-shadow: -1px 0 black, 0 1px black, 1px 0 black, 0 -1px black;">claims</span>.
The second <a>graph</a> expresses the
<span style="color:#b6d7a8ff;font-weight:bold;text-shadow: -1px 0 black, 0 1px black, 1px 0 black, 0 -1px black;">digital proof</span>,
which is usually a digital signature.
        </p>

        <figure>
          <img style="margin: auto; display: block;" width="100%" src="diagrams/credential-graph.svg">
          <figcaption style="text-align: center;">
A visual depiction of the information graphs associated with a basic verifiable
credential.
          </figcaption>
        </figure>

        <p class="note">
It is possible to have a <a>credential</a>, such as a marriage certificate,
containing multiple <a>claims</a> about different <a>subjects</a> that are
not required to be related.
        </p>
      </section>

      <section class="informative">
        <h3>Presentations</h3>

        <p>
Because this specification takes a privacy-first approach, it is important for
<a>entities</a> using this technology to be able to express only the portions
of their persona that are appropriate for a given situation. The expression of
a subset of one's persona is called a <a>verifiable presentation</a>.
        </p>

        <p>
A <a>verifiable presentation</a> expresses data from one or more
<a>verifiable credentials</a>, and is packaged in such a way that the
authorship of the data is verifiable. If <a>credentials</a> are directly
presented, they become a <a>presentation</a>. Data formats derived from
<a>credentials</a> that are cryptographically verifiable but do not of
themselves contain <a>credentials</a>, might also be <a>presentations</a>.
        </p>
        <p>
The data in a <a>presentation</a> is often about the same <a>subject</a>, but
was issued by multiple <a>issuers</a>. The aggregation of this information
typically expresses an aspect of a person, organization, or <a>entity</a>.
        </p>

        <figure>
          <img style="margin: auto; display: block;"
            width="50%" src="diagrams/presentation.svg">
          <figcaption style="text-align: center;">
The basic components of a verifiable presentation.
          </figcaption>
        </figure>

        <p>
Examples of different <a>presentations</a> include a person's professional
persona, their online gaming persona, or their home-life persona.
        </p>

        <p class="note">
It is possible to have a <a>presentation</a>, such as a business persona,
that draws on multiple <a>credentials</a> about different <a>subjects</a>
that are often, but not required to be, related.
        </p>

        <p>
If a <a>presentation</a> supports <a>derived predicates</a>, a <a>claim</a>
about birthdate in a <a>credential</a> can become the basis of proof that at a
given point in time, the age of a <a>subject</a> did or will fall within a
specified interval. Selective disclosure schemes using zero-knowledge proofs
can use <a>claims</a> expressed in this model to prove additional statements
about those <a>claims</a>. For example, a <a>claim</a> specifying a
<a>subject's</a> date of birth can be used as a predicate to prove the
<a>subject's</a> age is within a given range, and therefore prove the
<a>subject</a> qualifies for age-related discounts, without actually revealing
the <a>subject's</a> birthdate. The <a>holder</a> has the flexibility to use
the <a>claim</a> in any way that is applicable to the desired
<a>presentation</a>.
        </p>

        <figure>
          <img style="margin: auto; display: block;"
            width="50%" src="diagrams/claim-example-2.svg">
          <figcaption style="text-align: center;">
An example of a basic claim expressing that Pat's date of
birth is 2010-01-01T19:73:24Z.
Date encoding would be determined by the schema.
          </figcaption>
        </figure>
      </section>
    </section>

    <section class="informative">
      <h2>Trust Model</h2>

      <p>
The <a>verifiable credentials</a> trust model is as follows:
      </p>

      <ul>
        <li>
The <a>verifier</a> trusts the <a>issuer</a> to issue the <a>credential</a>
that it received. To establish this trust, a <a>credential</a> MUST either:
          <ul>
            <li>
Include a <a href="#proofs-signatures">proof</a> establishing that the
<a>issuer</a> generated the <a>credential</a> (that is, it is a
<a>verifiable credential</a>)
            </li>
            <li>
Have been transmitted in a way clearly establishing that the <a>issuer</a>
generated the <a>credential</a> and that the <a>credential</a> was not
tampered with in transit or storage. This trust could be weakened depending
on the risk assessment of the verifier.
            </li>
          </ul>
        </li>
        <li>
All <a>entities</a> trust the <a>verifiable data registry</a> to be
tamper-evident and to be a correct record of which data is controlled by which
<a>entities</a>.
        </li>
        <li>
The <a>subject</a> and <a>verifier</a> trust the <a>issuer</a> to issue
true (that is, not false) <a>credentials</a> about the <a>subject</a>, and to
revoke them quickly when appropriate.
        </li>
        <li>
The <a>holder</a> trusts the <a>repository</a> to store the <a>credentials</a>
securely, to not release them to anyone other than the <a>holder</a>, and to
not corrupt or lose them while they are in its care.
        </li>
      </ul>

      <p>
This trust model differentiates itself from other trust models by ensuring
the:
      </p>

      <ul>
        <li>
<a>Issuer</a> and the <a>verifier</a> do not need to trust the
<a>repository</a>
        </li>
        <li>
<a>Issuer</a> does not need to know or trust the <a>verifier</a>.
        </li>
      </ul>

      <p>
By decoupling the trust between the <a>identity provider</a> and the
<a>relying party</a> a more flexible and dynamic trust model is created
such that market competition and customer choice is increased.
      </p>

      <p>
Readers that would like to learn more about how this trust model interacts
with various threat models studied by the Working Group are urged to read
the Verifiable Credentials Use Cases Document [[VC-USECASES]].
      </p>

      <p class="note">
The data model detailed in this specification does not imply a transitive trust
model, such as that provided by more traditional Certificate Authority trust
models. In the Verifiable Credentials Data Model, a <a>verifier</a> either
directly trusts or does not trust an <a>issuer</a>. While it is possible to
build transitive trust models using the Verifiable Credentials Data Model,
implementers are urged to
<a href="https://tools.ietf.org/html/draft-housley-web-pki-problems">learn about the security weaknesses</a>
introduced by
<a href="https://www.cs.cornell.edu/people/egs/papers/dnssurvey.pdf">broadly delegating trust</a>
in the manner adopted by Certificate Authority systems.
      </p>
    </section>

    <section id="conformance">
      <p>
A concrete expression of the data model in this specification is a
<em>conforming document</em> if it complies with the normative statements in
this specification regarding syntax. That is, the content in the
<a href="#basic-concepts">Basic Concepts</a>,
<a href="#advanced-concepts">Advanced Concepts</a>, and
<a href="#syntaxes">Syntaxes</a> sections of this document. For convenience,
normative statements for <em>conforming documents</em> are
often phrased as statements on the syntax used in properties and their
associated values in the document (for example, "MUST be a URI", or
"MUST be a string value of an ISO8601 combined date and time string").
      </p>

      <p>
A <em>conforming processor</em> is a software or hardware-based implementation
of the normative statements in this specification regarding the expected
contents of property-value pairs (for example, the content in
<a>Verification</a>). For convenience, normative statements for
<em>conforming processors</em> are often phrased as behavioral statements
regarding the contents of property-value pairs (for example, "MUST NOT be
revoked", or "MUST be in the expected range").
      </p>
    </section>

    <section>
      <h2>Basic Concepts</h2>

      <p>
This section introduces some basic concepts for the specification, in
preparation for advanced concepts later in the document.
      </p>

      <section>
        <h3>Contexts</h3>

        <p>
When two software systems need to exchange data, they must use terminology and
a protocol that both systems understand. As an analogy, consider how two
people communicate. Both people must use the same language and the words they
use must mean the same thing to each other. This specification uses the
<code>@context</code> property to express the context of a conversation.
        </p>

        <dl>
          <dt><dfn>@context</dfn></dt>
          <dd>
The value of the <code>@context</code> property MUST be one or more URIs,
where the value of the first URI is
<code>https://w3.org/2018/credentials/v1</code>. If more than one URI is
provided, the URIs MUST be interpreted as an ordered set. It is RECOMMENDED
that dereferencing the URIs results in a document containing machine-readable
information about the context.
          </dd>
        </dl>

        <pre class="example nohighlight" title="Usage of the @context property">
{
  <span class="highlight">"@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.com/examples/v1"
  ]</span>,
  "id": "http://example.edu/credentials/58473",
  "type": ["VerifiableCredential", "AlumniCredential"],
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "alumniOf": "Example University"
  },
  "proof": { ... }
}
        </pre>

        <p>
The example above uses the base context URI
(<code>https://w3.org/2018/credentials/v1</code>) to establish that the
conversation is about a <a>verifiable credential</a>. The second
URI (<code>https://example.com/examples/v1</code>) establishes that the
conversation is about examples.
        </p>

        <p class="note">
This document uses the examples context URI
(<code>https://example.com/examples/v1</code>) for the purposes of
demonstrating examples. The examples context URI MUST NOT be used for any
other purpose, such as in pilot or production systems.
        </p>

        <p>
The data available at <code>https://w3.org/2018/credentials/v1</code> is a
static document that is never updated and MAY be downloaded and cached. The
associated human-readable vocabulary document for the Verifiable Credentials
Data Model is available at
<a href="https://w3.org/2018/credentials">https://w3.org/2018/credentials</a>.
This concept is further expanded on in Section <a href="#extensibility"></a>.
        </p>
      </section>

      <section>
        <h3>Identifiers</h3>

        <p>
When expressing statements about a specific thing, such as a person, product,
or organization, it is often useful to use some kind of identifier so that
others can express statements about the same thing. Identifiers that others
are expected to use when expressing statements about a specific thing MUST be
expressed using the <code>id</code> property.
        </p>

        <p class="note">
Developers should remember that identifiers might be harmful in scenarios
where pseudonymity is required. Developers are encouraged to read
Section <a href="#privacy-considerations"></a> carefully when considering
such scenarios.
        </p>

        <dl>
          <dt><dfn>id</dfn></dt>
          <dd>
The value of the <code>id</code> property MUST be a single URI. It is
RECOMMENDED that dereferencing the URI results in a document containing
machine-readable information about the identifier.
          </dd>
        </dl>

        <pre class="example nohighlight" title="Usage of the 'id' property">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.com/examples/v1"
  ],
  <span class="highlight">"id": "http://example.edu/credentials/3732"</span>,
  "type": ["VerifiableCredential", "UniversityDegreeCredential"],
  "credentialSubject": {
    <span class="highlight">"id": "did:example:ebfeb1f712ebc6f1c276e12ec21"</span>,
    "degree": {
      "type": "BachelorDegree",
      "name": "Bachelor of Science in Mechanical Engineering"
    }
  },
  "proof": { ... }
}
        </pre>

        <p>
The example above uses two types of identifiers. The first identifier is for
the <a>credential</a> and uses an HTTP-based URL. The second identifier is for
the <a>subject</a> of the <a>credential</a> (the thing the <a>claims</a> are
about) and uses a <a>decentralized identifier</a>, also known as a <a>DID</a>.
        </p>

        <p class="note">
As of this publication, <a>DIDs</a> are a new type of identifier that are not
necessary for <a>verifiable credentials</a> to be useful. Specifically,
<a>verifiable credentials</a> do not depend on <a>DIDs</a> and <a>DIDs</a> do
not depend on <a>verifiable credentials</a>. However, it is expected that many
<a>verifiable credentials</a> will use <a>DIDs</a> and that software libraries
implementing this specification will probably need to resolve <a>DIDs</a>.
<a>DID</a>-based URLs are used for expressing identifiers associated with
cryptographic keys and other machine-readable information that is useful when
used in the <a>verifiable credentials</a> ecosystem.
        </p>
      </section>

      <section>
        <h3>Types</h3>

        <p>
Software systems that process the kinds of objects specified in this document
use type information to determine whether or not a provided <a>credential</a>
or <a>presentation</a> is appropriate. Type information MUST be expressed
using the <code>type</code> property.
        </p>

        <dl>
          <dt><dfn data-lt="type|types">type</dfn></dt>
          <dd>
The value of the <code>type</code> property MUST be, or map to, one or more
URIs. If more than one URI is provided, the URIs MUST be interpreted as an
unordered set. Syntactic conveniences, such as JSON-LD terms, SHOULD be used
to ease developer usage. It is RECOMMENDED that dereferencing
the URIs results in a document containing machine-readable information about
the type.
          </dd>
        </dl>

        <pre class="example nohighlight" title="Usage of the type property">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.com/examples/v1"
  ],
  "id": "http://example.edu/credentials/3732",
  <span class="highlight">"type": ["VerifiableCredential", "UniversityDegreeCredential"]</span>,
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "degree": {
      "type": "BachelorDegree",
      "name": "Bachelor of Science in Mechanical Engineering"
    }
  },
  "proof": { ... }
}
        </pre>

        <p>
With respect to this specification, the following table lists the objects that
MUST have a <a>type</a> specified.
        </p>

        <table class="simple">
          <thead>
            <tr>
              <th>Object</th>
              <th>Type</th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td>
<a href="#credentials">Credential</a>&nbsp;object
              </td>
              <td>
<code>VerifiableCredential</code> and a more specific <a>credential</a> type.
For example,<br>
<code>"type": ["VerifiableCredential", "ProofOfAgeCredential"]</code>
              </td>
            </tr>

            <tr>
              <td>
<a href="#presentations">Presentation</a>&nbsp;object
              </td>
              <td>
<code>VerifiablePresentation</code> and a more specific <a>presentation</a>
type. For example,<br>
<code>"type": ["VerifiablePresentation", "CredentialManagerPresentation"]</code>
              </td>
            </tr>

            <tr>
              <td>
<a href="#status">credentialStatus</a>&nbsp;object
              </td>
              <td>
A valid <a>credential</a> status type. For example,<br>
<code>"type": "CredentialStatusList2017"</code>
              </td>
            </tr>

            <tr>
              <td>
<a href="#terms-of-use">termsOfUse</a>&nbsp;object
              </td>
              <td>
A valid terms of use type. For example,<br>
<code>"type": "OdrlPolicy2017"</code>)
              </td>
            </tr>

            <tr>
              <td>
<a href="#evidence">evidence</a>&nbsp;object
              </td>
              <td>
A valid evidence type. For example,<br>
<code>"type": "DocumentVerification2018"</code>
              </td>
            </tr>

          </tbody>
        </table>

        <p>
All <a>credentials</a>, <a>presentations</a>, and encapsulated objects MUST
specify, or be associated with, additional more narrow <a>types</a> (like
<code>ProofOfAgeCredential</code>, for example) so software systems can
process this additional information.
        </p>

        <p>
When processing encapsulated objects defined in this specification, (for
example, objects associated with the <code>credentialSubject</code> object
or deeply nested therein), software systems SHOULD use the <a>type</a>
information specified in encapsulating objects higher in the hierarchy.
Specifically, an encapsulating object, such as <a>credential</a>, SHOULD
convey the associated object <a>types</a> so that <a>verifiers</a> can quickly
determine the contents of an associated object based on the encapsulating
object <a>type</a>.
        </p>

        <p>
For example, a <a>credential</a> object with the <code>type</code> of
<code>ProofOfAgeCredential</code>, signals to a <a>verifier</a> that the Object
associated with the <code>credentialSubject</code> property contains the
identifier for the:
        </p>

        <ul>
          <li>
<a>Subject</a> in the <code>id</code> property.
          </li>
          <li>
Age assertion in the <code>ageOver</code> property.
          </li>
        </ul>

        <p>
This enables implementers to rely on values associated with the
<code>type</code> property for verification purposes. The expectation of
<a>types</a> and their associated properties SHOULD be documented in at least a
human-readable specification, and preferably, in an additional machine-readable
representation.
        </p>

        <p class="note">
The <a>type</a> system for the Verifiable Credentials Data Model is the same as
for [[JSON-LD]] and is detailed in
<a href="https://www.w3.org/TR/json-ld/#specifying-the-type">Section 5.4: Specifying the Type</a>
and
<a href="https://www.w3.org/TR/json-ld/#json-ld-grammar">Section 8: JSON-LD Grammar</a>.
When using a JSON-LD context (see Section <a href="#extensibility"></a>),
this specification aliases the <code>@type</code> keyword to <code>type</code>
to make the JSON-LD documents more easily understood. While application
developers and document authors do not need to understand the specifics of the
JSON-LD type system, implementers of this specification who want to support
interoperable extensibility, do.
        </p>
      </section>

      <section>
        <h3>Issuer</h3>

        <p>
<a>Issuer</a> information can be expressed using the following
<a>properties</a>:
        </p>

        <dl>
          <dt><var>issuer</var></dt>
          <dd>
The value of the <code>issuer</code> property MUST be a URI. It is RECOMMENDED
that dereferencing the URI results in a document containing machine-readable
information about the <a>issuer</a> that can be used to verify the information
expressed in the <a>credential</a>.
          </dd>
          <dt><var>issuanceDate</var></dt>
          <dd>
The value of the <code>issuanceDate</code> property MUST be a string value of
an [[!ISO8601]] combined date and time string representing the date and
time the <a>credential</a> was issued. Note that this date represents the
earliest date when the information associated with the
<code>credentialSubject</code> property became valid.
          </dd>
        </dl>

        <pre class="example nohighlight" title="Usage of issuer properties">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.com/examples/v1"
  ],
  "id": "http://example.edu/credentials/3732",
  "type": ["VerifiableCredential", "UniversityDegreeCredential"],
  <span class="highlight">"issuer": "https://example.edu/issuers/14"</span>,
  <span class="highlight">"issuanceDate": "2010-01-01T19:73:24Z"</span>,
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "degree": {
      "type": "BachelorDegree",
      "name": "Bachelor of Science in Mechanical Engineering"
    }
  },
  "proof": { ... }
}
        </pre>
      </section>

      <section>
        <h3>Proofs (Signatures)</h3>

        <p>
For a <a>credential</a> or <a>presentation</a> to be verifiable, the following
<a>property</a> MUST be present:
        </p>

        <dl>
          <dt><var>proof</var></dt>
          <dd>
The method used for a mathematical proof varies by representation language and
the technology used.  For example, if digital signatures are used for the
proof mechanism, the <code>proof</code> property is expected to have a value
that is a set of name-value pairs including at least a signature, a reference
to the signing entity, and a representation of the signing date.</dd>
        </dl>

        <pre class="example nohighlight"
          title="Usage of proof property on a verifiable credential">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.com/examples/v1"
  ],
  "id": "http://example.gov/credentials/3732",
  "type": ["VerifiableCredential", "UniversityDegreeCredential"],
  "issuer": "https://example.edu",
  "issuanceDate": "2010-01-01",
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "degree": {
      "type": "BachelorDegree",
      "name": "Bachelor of Science in Mechanical Engineering"
    }
  },
  <span class="highlight">"proof": {
    "type": "RsaSignature2018",
    "created": "2017-06-18T21:19:10Z",
    "creator": "https://example.com/jdoe/keys/1",
    "nonce": "c0ae1c8e-c7e7-469f-b252-86e6a0e7387e",
    "signatureValue": "BavEll0/I1zpYw8XNi1bgVg/sCneO4Jugez8RwDg/+
      MCRVpjOboDoe4SxxKjkCOvKiCHGDvc4krqi6Z1n0UfqzxGfmatCuFibcC1wps
      PRdW+gGsutPTLzvueMWmFhwYmfIFpbBu95t501+rSLHIEuujM/+PXr9Cky6Ed
      +W3JT24="
  }</span>
}
        </pre>

        <p class="issue" data-number=93>
The group is currently discussing various alignments with the JOSE stack,
specifically JWS and JWK.
        </p>
      </section>

      <section>
        <h3>Expiration</h3>

        <p>
Expiration information for a <a>credential</a> MAY be provided by adding
the following <a>property</a>:
        </p>

        <dl>
          <dt><var>expirationDate</var></dt>
          <dd>
If specified, the value of the <code>expirationDate</code> property MUST be a
string value of an [[!ISO8601]] combined date and time string representing the
date and time the <a>credential</a> ceases to be valid.
          </dd>
        </dl>

        <pre class="example nohighlight" title="Usage of expirationDate property">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.com/examples/v1"
  ],
  "id": "http://example.edu/credentials/3732",
  "type": ["VerifiableCredential", "UniversityDegreeCredential"],
  "issuer": "https://example.edu/issuers/14",
  "issuanceDate": "2010-01-01T19:73:24Z",
  <span class="highlight">"expirationDate": "2020-01-01T19:73:24Z"</span>,
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "degree": {
      "type": "BachelorDegree",
      "name": "Bachelor of Science in Mechanical Engineering"
    }
  },
  "proof": { ... }
}
        </pre>
      </section>

      <section>
        <h3>Status</h3>

        <p>
Information about the current status of a <a>verifiable credential</a>, such
as whether it is suspended or revoked, MAY be provided using the
<code>credentialStatus</code> <a>property</a>.
        </p>

        <dl>
          <dt><var>credentialStatus</var></dt>
          <dd>
If specified, the value of the <code>credentialStatus</code> property MUST
include the:

            <ul>
              <li>
<a>Credential</a> status type (also referred to as the <a>credential</a>
status scheme), which MUST provide enough information to determine the
current status of the <a>credential</a> (for example, suspended or
revoked).
              </li>
              <li>
<a>id</a> of the status type instance.
              </li>
            </ul>

The precise contents of the <a>credential</a> status information is determined
by the specific <code>credentialStatus</code> type definition, and varies
depending on factors such as whether it is simple to implement or if it is
privacy-enhancing.
          </dd>
        </dl>

        <pre class="example nohighlight" title="Usage of status property">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.com/examples/v1"
  ],
  "id": "http://example.edu/credentials/3732",
  "type": ["VerifiableCredential", "UniversityDegreeCredential"],
  "issuer": "https://example.edu/issuers/14",
  "issuanceDate": "2010-01-01T19:73:24Z",
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "degree": {
      "type": "BachelorDegree",
      "name": "Bachelor of Science in Mechanical Engineering"
    }
  },
  <span class="highlight">"credentialStatus": {
    "id": "https://example.edu/status/24,
    "type": "CredentialStatusList2017"
  }</span>,
  "proof": { ... }
}
        </pre>

        <p>
Defining the data model, formats, and protocols for status schemes are out of
scope for this specification. A status scheme registry [[VC-STATUS-REGISTRY]]
exists for implementers who want to implement <a>credential</a>
status checking.
        </p>
      </section>

      <section>
        <h3>Presentations</h3>

        <p>
<a>Verifiable presentations</a> MAY be used to combine and present
<a>verifiable credentials</a>.
        </p>

        <p>
If <a>verifiable presentations</a> are used, they MUST be constructed from
<a>verifiable credentials</a> themselves, or of data derived from
<a>verifiable credentials</a> in a cryptographically verifiable format.
        </p>

        <p>
The example below shows a <a>verifiable presentation</a> that embeds
<a>verifiable credentials</a>.
        </p>

        <pre class="example nohighlight" title="Basic structure of a presentation">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.com/examples/v1"
  ],
  "id": "urn:uuid:3978344f-8596-4c3a-a978-8fcaba3903c5",
  "type": ["VerifiablePresentation"],
  <span class="highlight">"verifiableCredential": [{ ... }],
  "proof": [{ ... }]</span>
}
        </pre>

        <p>
The contents of the <code>verifiableCredential</code> property shown above are
<a>verifiable credentials</a> as described by this specification. The contents
of the <code>proof</code> property are proofs as described by the
Linked Data Proofs [[LD-PROOFS]] specification. The <code>id</code> property
is optional and MAY be used to provide a unique identifier for the
presentation. The value associated with the <code>id</code> property MUST be a
URI.
        </p>

        <p>
Some zero-knowledge cryptography schemes might enable <a>holders</a> to
indirectly prove they hold a <a>credential</a> without revealing the
<a>credential</a> itself. In these schemes, the original attribute, such as
date of birth, might be translated into another value, such as "over the age
of 15", which is cryptographically asserted such that a <a>verifier</a> can
trust the value if they trust the <a>issuer</a>.
        </p>

        <p class="issue" title="ZKP-style verifiable presentation">
We are currently working on an example of a ZKP-style verifiable presentation
that contains derived data instead of directly embedded verifiable credentials.
        </p>
      </section>
    </section>

    <section>
      <h2>Advanced Concepts</h2>

      <p>
Building on the concepts introduced in Section <a href="#basic-concepts"></a>,
this section explores more complex topics about <a>verifiable credentials</a>.
      </p>

      <section>
        <h3>Extensibility</h3>

        <p>
One of the goals of the Verifiable Credentials Data Model is to enable
permissionless innovation. To achieve this, the data model needs to be
extensible in a number of different ways. The data model is required to:
        </p>

        <ul>
          <li>
Model complex multi-entity relationships through the use of a
<a>graph</a>-based data model.
          </li>
          <li>
Extend the machine-readable vocabularies used to describe information in the
data model, without the use of a centralized system for doing so, through the
use of [[LINKED-DATA]].
          </li>
          <li>
Support multiple types of cryptographic proof formats through the use of
Linked Data Proofs [[LD-PROOFS]], Linked Data Signatures [[LD-SIGNATURES]],
and a variety of signature suites.
          </li>
          <li>
Provide all of the extensibility mechanisms outlined above in a data format
that is popular with software developers and web page authors, and is enabled
through the use of [[!JSON-LD]].
          </li>
        </ul>

        <p class="issue" data-number=266>
The requirement to support multiple types of machine-readable data formats e.g., JWT is currently not supported.
        </p>

        <p>
This approach to data modelling is often called an
<em>open world assumption</em>, meaning that any entity can say anything about
any other entity. While this approach seems to conflict with building simple
and predictable software systems, balancing extensibility with program
correctness is always more challenging with an open world assumption than with
closed software systems.
        </p>

        <p>
The rest of this section describes, through a series of examples, how both
extensibility and program correctness are achieved.
        </p>

        <p>
Let us assume that we start with the following <a>verifiable credential</a>:
        </p>

        <pre class="example nohighlight" title="A simple credential">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.com/examples/v1"
  ],
  "id": "http://example.com/credentials/4643",
  "type": ["VerifiableCredential"],
  "issuer": "https://example.com/issuers/14",
  "issuanceDate": "2018-02-24T05:28:04Z",
  "credentialSubject": {
    "id": "did:example:abcdef1234567",
    "name": "Jane Doe"
  },
  "proof": { ... }
}
        </pre>

        <p>
The <a>verifiable credential</a> above states that the <a>entity</a>
associated with <code>did:example:abcdef1234567</code> has a <code>name</code>
with a value of <code>Jane Doe</code>.
        </p>

        <p>
Now let us assume that a developer wants to extend the
<a>verifiable credential</a> to store two additional pieces of information: an
internal corporate reference number, and Jane's favorite food.
        </p>

        <p>
The first thing to do is to create a JSON-LD context containing two new terms:
        </p>

        <pre class="example nohighlight" title="An example JSON-LD context">
{
  "@context": {
    "referenceNumber": "https://example.com/vocab#referenceNumber",
    "favoriteFood": "https://example.com/vocab#favoriteFood"
  }
}
        </pre>

        <p>
After the JSON-LD context is created, the developer must publish it somewhere
so it is accessible to <a>verifiers</a> who will be processing the
<a>verifiable credential</a>. Assuming the above JSON-LD context is published
at <code>https://example.com/contexts/mycontext.jsonld</code>, we can extend
this example by including the context and adding the new properties to the
<a>verifiable credential</a>:
        </p>

        <pre class="example nohighlight"
          title="A verifiable credential with a custom extension">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    <span class="highlight">"https://example.com/contexts/mycontext.jsonld"</span>
  ],
  "id": "http://example.com/credentials/4643",
  "type": ["VerifiableCredential"],
  "issuer": "https://example.com/issuers/14",
  "issuanceDate": "2018-02-24T05:28:04Z",
  <span class="highlight">"referenceNumber": 83294847,</span>
  "credentialSubject": {
    "id": "did:example:abcdef1234567",
    "name": "Jane Doe",
    <span class="highlight">"favoriteFood": "Papaya"</span>
  },
  "proof": { ... }
}
        </pre>

        <p>
This example demonstrates extending the Verifiable Credentials Data Model in a
permissionless and decentralized way. The mechanism shown also ensures that
<a>verifiable credentials</a> created in this way provide a mechanism to
prevent namespace conflicts and semantic ambiguity.
        </p>

        <p>
A dynamic extensibility model such as this does increase the implementation
burden. Software written for such a system has to determine whether
<a>verifiable credentials</a> with extensions are acceptable based on the
risk profile of the application. Some applications might accept only
certain extensions while highly secure environments might not accept any
extensions. These decisions are up to the developers of these
applications and are specifically not the domain of this specification.
        </p>

        <p>
Applications that do not understand the semantic meaning of all properties
while processing a <a>verifiable credential</a> or a
<a>verifiable presentation</a> MUST produce an error.
        </p>

        <p>
Developers are urged to ensure that extension JSON-LD contexts are highly
available. Implementations that cannot fetch a context will produce an error.
Strategies for ensuring that extension JSON-LD contexts are always available
include using content-addressed URLs for contexts, bundling context documents
with implementations, or enabling aggressive caching of contexts.
        </p>

        <section>
          <h4>Semantic Interoperability</h4>

          <p>
This specification endeavors to enable both the JSON and JSON-LD syntaxes to
be semantically compatible with one another without the JSON implementations
needing to process the documents as JSON-LD. To achieve this, the
specification imposes the following additional restrictions on both syntaxes:
          </p>

          <ul>
            <li>
JSON-based processors MUST process the <code>@context</code> property,
ensuring the expected values exist in the expected order for the
<a>credential</a> <code>type</code> being processed. The expected order MUST
be defined by at least a human-readable extension specification and
preferably, by a machine-readable specification.
            </li>
            <li>
JSON-LD-based processors MUST produce an error when a JSON-LD context
redefines any term in the
<a href="https://www.w3.org/TR/json-ld/#dfn-active-context">active context</a>.
            </li>
          </ul>

          <p>
To avoid the possibility of accidentally overriding terms, developers are urged
to scope their extensions. For example, the following extension scopes the
new <code>favoriteFood</code> term so that it can only be used within the
<code>credentialSubject</code> property:
          </p>

          <pre class="example nohighlight" title="Scoping terms in a JSON-LD context">
{
  "@context": {
    "referenceNumber": "https://example.com/vocab#referenceNumber",
    <span class="highlight">"credentialSubject": {
      "@id": "https://w3.org/2018/credentials#credentialSubject",
      "@context": {
        "favoriteFood": "https://example.com/vocab#favoriteFood"
      }
    }</span>
  }
}
          </pre>
        </section>
      </section>

      <section>
        <h3>Data Schemas</h3>

        <p>
Data schemas are useful when enforcing a specific structure on a given
collection of data. There are at least two types of data schemas that this
specification contemplates:
        </p>

        <ul>
          <li>
Data verification schemas, which are used to verify that the structure and
contents of a <a>verifiable credential</a> conform to a published schema.
          </li>
          <li>
Data encoding schemas, which are used to map the contents of a
<a>verifiable credential</a> to an alternative representation format, such as a
binary format used in a zero-knowledge proof.
          </li>
        </ul>

        <p>
The expression of a data schema can be performed using the following
<a>property</a>:
        </p>

        <dl>
          <dt><var>credentialSchema</var></dt>
          <dd>
The value of the <code>credentialSchema</code> property MUST be one or more
data schemas that provide <a>verifiers</a> with enough information to determine
if the provided data conforms to the provided schema. Each
<code>credentialSchema</code> comprises at least its
<code>type</code> (for example, <code>JsonSchemaValidator2018</code>),
and an <code>id</code> property that MUST be a URI identifying
the schema file. The precise contents of each
data schema is determined by the specific type definition.
          </dd>
        </dl>

        <pre class="example nohighlight" title="Usage of credentialSchema property to do JSON schema validation">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.org/motorlicense/v1"
  ],
  "id": "http://example.edu/credentials/3732",
  "type": ["VerifiableCredential", "UniversityDegreeCredential"],
  "issuer": "https://example.edu/issuers/14",
  "issuanceDate": "2010-01-01T19:73:24Z",
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "degree": {
      "type": "BachelorDegree",
      "name": "Bachelor of Science in Mechanical Engineering"
    }
  },
  <span class="highlight">"credentialSchema": {
    "id": "https://example.org/motorlicense/proof-of-age.json",
    "type": "JsonSchemaValidator2018"
  }</span>,
  "proof": { ... }
}
        </pre>

        <p>
In the example above, the <a>issuer</a> is specifying a
<code>credentialSchema</code>, which points to a JSON schema file that can be
used by a <a>verifier</a> to determine if the <a>verifiable credential</a> is
well formed.
        </p>

        <p class="issue">
The group is still exploring how to utilize this feature for ZKPs and will
most likely adjust this section based on implementer feedback.
        </p>

        <p>
Data schemas can also be used to specify mappings to other binary formats,
such as those used to perform zero-knowledge proofs.
        </p>

        <pre class="example nohighlight" title="Usage of credentialSchema property to do zero-knowledge validation">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.org/motorlicense/v1"
  ],
  "id": "http://example.edu/credentials/3732",
  "type": ["VerifiableCredential", "UniversityDegreeCredential"],
  "issuer": "https://example.edu/issuers/14",
  "issuanceDate": "2010-01-01T19:73:24Z",
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "degree": {
      "type": "BachelorDegree",
      "name": "Bachelor of Science in Mechanical Engineering"
    }
  },
  <span class="highlight">"credentialSchema": {
    "id": "https://example.org/motorlicense/proof-of-age.zkp",
    "type": "ZkpExampleSchema2018"
  }</span>,
  "proof": { ... }
}
        </pre>

        <p>
In the example above, the <a>issuer</a> is specifying a
<code>credentialSchema</code>, which points to a zero-knowledge packed binary
data format that is capable of transforming the input data into a format,
which can then be used by a <a>verifier</a> to determine if the
proof provided with the <a>verifiable credential</a> is valid.
        </p>
      </section>

      <section>
        <h3>Refreshing</h3>

        <p>
It is useful for systems to enable the manual or automatic refresh of a
<a href="#expiration">expired</a> <a>verifiable credential</a>. This
specification enables an <a>issuer</a> to include a link to a refresh service.
        </p>
        <p>
The <a>issuer</a> can include the refresh service as an element inside the
<a>verifiable credential</a> if it is intended for either the <a>verifier</a>
or the <a>holder</a> (or both), or inside the <a>verifiable presentation</a>
if it is intended for the <a>holder</a> only.
        </p>
        <p>
Including the refresh reference inside the <a>verifiable presentation</a>
enables the <a>holder</a> to refresh the <a>credential</a> details before
creating a <a>presentation</a> to share with a <a>verifier</a>, while
including the refresh reference inside the <a>verifiable credential</a>
enables both the <a>holder</a> and the <a>verifier</a> to perform future
updates of the <a>credential</a>.
        </p>
        <p>
A refresh service can be expressed using the following <a>property</a>:
        </p>

        <dl>
          <dt><var>refreshService</var></dt>
          <dd>
The value of the <code>refreshService</code> property MUST be one or more
refresh services that provides enough information to the <a>holder's</a>
software such that the <a>holder</a> can refresh the credential. Each
<code>refreshService</code> property comprises at least its <code>type</code>
(for example, <code>ManualRefreshService2018</code>) and the
<code>serviceEndpoint</code> URL. The precise content of each refresh service
is determined by the specific <code>refreshService</code> <a>type</a>
definition.
          </dd>
        </dl>

        <pre class="example nohighlight" title="Usage of termsOfUse property by an Issuer">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.org/motorlicense/v1"
  ],
  "id": "http://example.edu/credentials/3732",
  "type": ["VerifiableCredential", "UniversityDegreeCredential"],
  "issuer": "https://example.edu/issuers/14",
  "issuanceDate": "2010-01-01T19:73:24Z",
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "degree": {
      "type": "BachelorDegree",
      "name": "Bachelor of Science in Mechanical Engineering"
    }
  },
  <span class="highlight">"refreshService": {
    "type": "ManualRefreshService2018",
    "serviceEndpoint": "https://example.edu/refresh/283947"
  }</span>,
  "proof": { ... }
}
        </pre>

        <p>
In the example above, the <a>issuer</a> specifies a manual
<code>refreshService</code> that can be used by directing the <a>holder</a> to
<code>https://dmv.example.gov/refresh/283947</code>.
        </p>
      </section>

      <section class="informative">
        <h3>Mode of Operation</h3>

        <p>
Section <a href="#ecosystem-overview"></a> provided an overview of the
<a>verifiable credential</a> ecosystem. This section provides more detail about
how the ecosystem is envisaged to operate, as follows:
        </p>

        <p class="note">
The order of the following steps is not fixed and some steps might be repeated.
        </p>

        <ol>
          <li>
The <a>verifier</a> defines its policies for accepting
<a>verifiable credentials</a> from <a>holders</a> for its supported actions.
          </li>
          <li>
The <a>issuer</a> issues a <a>verifiable credential</a> to the <a>holder</a>.
          </li>
          <li>
The <a>holder</a> might pass on its <a>verifiable credentials</a> to another
<a>holder</a>.
          </li>
          <li>
The final <a>holder</a> presents its <a>verifiable credentials</a> to the
<a>verifier</a> in a <a>verifiable presentation</a>, requesting a supported
action.
          </li>
          <li>
The <a>verifier</a> verifies the authenticity of the
<a>verifiable presentation</a> and <a>verifiable credentials</a>.
          </li>
          <li>
The <a>verifier</a> verifies that the <a>holder</a> posses the
<a>verifiable credentials</a>.
          </li>
          <li>
The <a>verifier</a> decides whether to accept the <a>verifiable credentials</a>
for the requested action, taking into account its policy, the <a>holder</a>,
and the contents of the <a>verifiable credentials</a>.
          </li>
          <li>
The <a>verifier</a> either performs the requested action or rejects the
request.
          </li>
        </ol>

        <p>
This specification does not define any protocol for transfering
<a>verifiable credentials</a> or <a>verifiable presentations</a>, but assuming
other specifications do specify how they are transferred between entities, then
this Verifiable Credential Data Model is:
        </p>

        <ul>
          <li>
Directly applicable to steps 2, 3, 4, 5, and 6.
          </li>
          <li>
Not sufficient on its own for steps 1, 7, and 8 because an authorization
framework is needed as well.
          </li>
        </ul>

        <p>
In particular, Sections <a href="#terms-of-use"></a> and
<a href="#subject-holder-relationships"></a> specify how a <a>verifier</a> can
determine:
        </p>

        <ul>
          <li>
Whether the <a>holder</a> is the <a>subject</a> of a
<a>verifiable credential</a>.
          </li>
          <li>
The relationship between the <a>subject</a> and the <a>holder</a>.
          </li>
          <li>
Whether the original <a>holder</a> passed a <a>verifiable credential</a> to a
subsequent <a>holder</a>.
          </li>
          <li>
Any restrictions using the <a>verifiable credentials</a> by the <a>holder</a>
or <a>verifier</a>.
          </li>
        </ul>
      </section>

      <section>
        <h3>Terms of Use</h3>

        <p>
Terms of use can be used by an <a>issuer</a>, a <a>subject</a>, or a
<a>holder</a> to constrain the use of information expressed by the Verifiable
Credentials Data Model. The <a>issuer</a> places their terms of use inside the
<a>credential</a> before it is converted into a <a>verifiable credential</a>.
The <a>holder</a> places their terms of use inside a <a>presentation</a>.
        </p>

        <p class="note">
Further study is required to determine how a <a>subject</a> who is not a
<a>holder</a> places terms of use on their <a>verifiable credentials</a>. One
way could be for the <a>subject</a> to request the <a>issuer</a> to place the
terms of use inside the issued <a>verifiable credentials</a>. Another way
could be for the <a>subject</a> to delegate a <a>verifiable credential</a> to
a <a>holder</a> and placing terms of use restrictions on the delegated
<a>verifiable credential</a>.
        </p>
        <p>
Terms of use can be expressed using the following <a>property</a>:
        </p>

        <dl>
          <dt><var>termsOfUse</var></dt>
          <dd>
The value of the <code>termsOfUse</code> property MUST be one or more terms of
use telling a <a>verifier</a> what actions it MUST perform (Obligations), MUST
NOT perform (Prohibitions), or MAY perform (Permissions) if it is to accept
the <a>verifiable credential</a> or <a>verifiable presentation</a>. If a
<a>verifier</a> is not willing to accept these terms of use, it MUST reject
the <a>verifiable credential</a> or <a>verifiable presentation</a>. Each
<code>termsOfUse</code> property comprises its <a>type</a> (for example,
<code>IssuerPolicy</code>) and optionally its instance <a>id</a>. The precise
content of each term of use is determined by the specific
<code>TermsOfUse</code> <a>type</a> definition.
          </dd>
        </dl>

        <p class="issue" data-title="Direct the reader to a Terms of Use vocabulary">
The group is currently exploring a variety of ways of expressing the terms of
use associated with a Verifiable Credential, namely, the
<a href="http://w3c.github.io/poe/model/">Open Digital Rights Language</a>.
A related initiative is the one at <a href="https://customercommons.org">Customer Commons</a>.
        </p>

        <pre class="example nohighlight" title="Usage of termsOfUse property by an Issuer">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.org/motorlicense/v1"
  ],
  "id": "http://example.edu/credentials/3732",
  "type": ["VerifiableCredential", "UniversityDegreeCredential"],
  "issuer": "https://example.edu/issuers/14",
  "issuanceDate": "2010-01-01T19:73:24Z",
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "degree": {
      "type": "BachelorDegree",
      "name": "Bachelor of Science in Mechanical Engineering"
    }
  },
  <span class="highlight">"termsOfUse": [{
    "type": "IssuerPolicy",
    "id": "http://example.com/policies/credential/4",
    "profile": "http://example.com/profiles/credential",
    "prohibition": [{
      "assigner": "https://example.edu/issuers/14",
      "assignee": "AllVerifiers",
      "target": "http://example.edu/credentials/3732",
      "action": ["Archival"]
    }]
  }</span>,
  "proof": { ... }
}
        </pre>

        <p>
In the example above, the <a>issuer</a> is prohibiting <a>verifiers</a> from
storing the data in an archive.
        </p>

        <pre class="example nohighlight" title="Usage of termsOfUse property by a Holder">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.org/motorlicense/v1"
  ],
  "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
  "type": "VerifiablePresentation",
  "verifiableCredential": [{
    "id": "http://example.edu/credentials/3732",
    "type": ["VerifiableCredential", "UniversityDegreeCredential"],
    "issuer": "https://example.edu/issuers/14",
    "issuanceDate": "2010-01-01T19:73:24Z",
    "credentialSubject": {
      "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
      "degree": {
      "type": "BachelorDegree",
      "name": "Bachelor of Science in Mechanical Engineering"
    }
    },
    "proof": { ... }
  }],
  <span class="highlight">"termsOfUse": [{
    "type": "HolderPolicy",
    "id": "http://example.com/policies/credential/6",
    "profile": "http://example.com/profiles/credential",
    "prohibition": [{
      "assigner": "did:example:ebfeb1f712ebc6f1c276e12ec21",
      "assignee": "https://wineonline.example.org/",
      "target": "http://example.edu/credentials/3732",
      "action": ["3rdPartyCorrelation"]
    }]
  }</span>,
  "proof": [ ... ]
}
        </pre>

        <p>
In the example above, the <a>holder</a>, who is also the <a>subject</a>, is
prohibiting a specific <a>verifier</a>
(<code>https://wineonline.example.org</code>) from using the information
provided to correlate the <a>holder</a> with the <a>subject</a> using a
third-party service.
        </p>
      </section>

      <section>
        <h3>Evidence</h3>

        <p>
Evidence information is used by an <a>issuer</a> to determine whether to issue
a <a>credential</a>. For example, an <a>issuer</a> might check physical
documentation provided by a <a>subject</a> or perform a set of background
checks before issuing a <a>credential</a>. In some situations, this
information is useful to the <a>verifier</a> when determining the risk
associated with accepting the <a>credential</a>.
        </p>

        <p>
Evidence information can be expressed using the following <a>property</a>:
        </p>

        <dl>
          <dt><var>evidence</var></dt>
          <dd>
The value of the <code>evidence</code> property MUST be one or more evidence
schemes providing enough information to a <a>verifier</a> to determine whether
the evidence gathered meets their requirements. The precise content of each
evidence scheme is determined by the specific <code>evidence</code>
<a>type</a> definition.
          </dd>
        </dl>

        <p class="issue" data-title="Define ONE concrete format for the evidence parameter ">
The group is currently determining whether or not they should publish a
very simple scheme for evidence as a part of this specification.
        </p>

        <p class="issue" data-number=136>
The group is currently discussing how attachments and references to
non-credential data are supported by the specification.
        </p>

        <p class="issue" data-number=135>
The group is currently discussing how attachments and references to
credentials are supported by the specification.
        </p>

        <pre class="example nohighlight" title="Usage of evidence property">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.org/motorlicense/v1"
  ],
  "id": "http://example.edu/credentials/3732",
  "type": ["VerifiableCredential", "UniversityDegreeCredential"],
  "issuer": "https://example.edu/issuers/14",
  "issuanceDate": "2010-01-01T19:73:24Z",
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "degree": {
      "type": "BachelorDegree",
      "name": "Bachelor of Science in Mechanical Engineering"
    }
  },
  <span class="highlight">"evidence": [{
    "id": "https://example.edu/evidence/f2aeec97-fc0d-42bf-8ca7-0548192d4231",
    "type": ["DocumentVerification"],
    "verifier": "https://example.edu/issuers/14",
    "evidenceDocument": "DriversLicense",
    "subjectPresence": "Physical",
    "documentPresence": "Physical"
  }]</span>,
  "proof": { ... }
}
        </pre>

        <p class="note">
The <code>evidence</code> property provides different and complimentary
information to the <a href="#proofs-signatures"><code>proof</code></a>
property. The <code>evidence</code> property is used to express supporting
information, such as documentary evidence, related to the integrity of the
<a>credential</a>. In contrast, the <code>proof</code> property is used to
express machine-verifiable mathematical proofs related to the authenticity of
the <a>issuer</a> and integrity of the <a>credential</a>.
        </p>
      </section>

      <section>
        <h3>Subject-Holder Relationships</h3>

        <p>
This section describes the possible relationships between a <a>subject</a>
and a <a>holder</a> and how the Verifiable Claims Data Model expresses these
relationships. The following diagram illustrates the different types of
relationships covered in the rest of this section.
        </p>

        <figure>
          <img style="margin: auto; display: block;" width="75%"
            src="diagrams/subject-ne-holder.svg">
          <figcaption style="text-align: center;">
Subject-Holder Relationships in Verifiable Credentials.
          </figcaption>
        </figure>

        <p>
The following sections describe how each of these relationships are handled in
the data model.
        </p>

        <section>
          <h4>Subject is the Holder</h4>

          <p>
The most common case is when a <a>subject</a> is the <a>holder</a>. For
example, a <a>verifier</a> can easily deduce that a <a>subject</a> is the
<a>holder</a> if the <a>verifiable presentation</a> is digitally signed by the
<a>holder</a> and all contained <a>verifiable credentials</a> are about a
<a>subject</a> that can be identified to be the same as the <a>holder</a>.
          </p>

          <p>
If only the credentialSubject is allowed to insert a verifiable credential
into a verifiable presentation the issuer MAY insert the "subjectOnly" property
into the verifiable credential, as defined below.
          </p>

          <p class="issue">
This feature is at risk and is likely to be removed due to lack of consensus.
          </p>

          <section>
            <h5>'Subject Only' Property</h5>

            <p>
The Subject Only property states that a verifiable credential MUST only be
encapsulated into a verifiable presentation whose proof was issued by the
credentialSubject. A verifiable presentation that contains a verifiable credential
containing the subjectOnly property whose proof creator is not
the credentialSubject is invalid.
            </p>

            <pre class="example nohighlight" title="Subject Only Property">
{
  "id": "http://dmv.example.gov/credentials/3732",
  "type": ["VerifiableCredential", "ProofOfAgeCredential"],
  "issuer": "https://dmv.example.gov/issuers/14",
  "issued": "2010-01-01T19:73:24Z",
  "claim": {
    "credentialSubject": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "ageOver": 21
    },
  "SubjectOnly": "True",
  "proof": { ..
  "creator": "did:example:ebfeb1f712ebc6f1c276e12ec21",
  ... }
}
            </pre>
          </section>
        </section>

        <section>
          <h4>Credential Uniquely Identifies a Subject</h4>

          <p>
In this case, the <code>credentialSubject</code> property might contain
multiple properties that each provide an aspect of the identity of the
<a>subject</a>, and which together, unambiguously identify the subject. Some
use cases might not require the <a>holder</a> to be identified at all, such as
checking to see if a doctor (the <a>subject</a>) is board certified. Other use
cases might require the <a>verifier</a> to use out-of-band knowledge to
determine the relationship between the <a>subject</a> and the <a>holder</a>.
          </p>

          <pre class="example nohighlight" title="An example of a credential
that uniquely identifies a subject">
{
  "@context": ["https://w3.org/2018/credentials/v1", "https://schema.org/"]
  "id": "http://example.edu/credentials/332",
  "type": ["VerifiableCredential", "IdentityCredential"],
  "issuer": "https://example.edu/issuers/4",
  "issued": "2017-02-24",
  "credentialSubject": {
    "name": "J. Doe",
    "address": {
      "streetAddress": "10 Rue de Chose",
      "postalCode": "98052",
      "addressLocality": "Paris",
      "addressCountry": "FR"
    },
    "birthDate": "1989-03-15"
    ...
  },
  "proof": { ... }
}
          </pre>

          <p>
The example above uniquely identifies the <a>subject</a> using the name,
address, and birth date of the individual.
          </p>
        </section>

        <section>
          <h4>Subject Passes the Verifiable Credential to a Holder</h4>

          <p>
Normally verifiable credentials will be presented to verifiers by the
subject. However in some cases, the subject may need to pass the whole or
part of a verifiable credential to another holder. For example, a patient
(the subject) may be too ill to take a prescription (the verifiable credential)
to the pharmacist (the verifier), and so may ask a friend to take the
prescription for him/her in order to pick up the medication.
          </p>

          <p>
The data model allows for this, by the subject issuing a new verifiable
credential and giving it to the new holder, so that the holder can present
both verifiable credentials to the verifier. However, the content of this
second verifiable credential is likely to be application specific, and therefore
this specification does not standardise the contents of this second verifiable
credential. Nevertheless a non-normative example is given in Appendix A.2
          </p>
        </section>

        <section>
          <h4>Holder Acts on Behalf of the Subject</h4>

          <p>
The Verifiable Credentials Data Model supports the <a>holder</a> acting on
behalf of the <a>subject</a> in at least the following ways:
          </p>

          <ul>
            <li>
The <a>issuer</a> can include the relationship between the <a>holder</a> and
the <a>subject</a> in the <code>credentialSubject</code> property.
            </li>
            <li>
The <a>issuer</a> can express the relationship between the <a>holder</a> and
the <a>subject</a> by issuing a new <a>verifiable credential</a>, which the
<a>holder</a> utilizes.
            </li>
            <li>
The <a>subject</a> can express their relationship with the <a>holder</a> by
issuing a new <a>verifiable credential</a>, which the holder utilizes.
            </li>
          </ul>

          <p>
The mechanisms listed above describe the relationship between the
<a>holder</a> and the <a>subject</a> and helps the <a>verifier</a> decide
whether the relationship is sufficiently expressed for the given use case.
          </p>

          <p class="note">
The additional mechanisms the <a>issuer</a> or the <a>verifier</a> uses to
verify the relationship between the <a>subject</a> and the <a>holder</a> are
outside of the scope of this specification.
          </p>

          <p class="issue">
It is for further study which, if any, of these mechanisms is to be
standardised by the working group.
          </p>

          <pre class="example nohighlight" title="An example of the relationship
property in a child's credential">{
  "id": "http://example.edu/credentials/3732",
  "type": ["VerifiableCredential", "UniversityDegreeCredential", "RelationshipCredential"],
  "issuer": "https://example.edu/issuers/14",
  "issued": "2010-01-01T19:73:24Z",
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "ageUnder": 16,
    "parent": {
      "id": "did:example:ebfeb1c276e12ec211f712ebc6f",
      "type": "Mother"
    }
  },
  "proof": { ... } // the proof is generated by the DMV
}
          </pre>

          <p>
In the example above, the <a>issuer</a> expresses the relationship between the
child and the parent such that a <a>verifier</a> would most likely accept the
<a>credential</a> if it is provided by the child or the parent.
          </p>

          <pre class="example nohighlight" title="An example of a relationship
credential issued to a parent">{
  "id": "http://example.edu/credentials/3732",
  "type": ["VerifiableCredential", "RelationshipCredential"],
  "issuer": "https://example.edu/issuers/14",
  "issued": "2010-01-01T19:73:24Z",
  "credentialSubject": {
    "id": "did:example:ebfeb1c276e12ec211f712ebc6f",
    "child": {
      "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
      "type": ["Person", "Child"]
    }
  },
  "proof": { ... } // the proof is generated by the DMV
}
          </pre>

          <p>
In the example above, the <a>issuer</a> expresses the relationship between the
child and the parent in a separate <a>credential</a> such that a
<a>verifier</a> would most likely accept any of the child's <a>credentials</a>
if they are provided by the child or if the <a>credential</a> above is
provided with any of the child's <a>credentials</a>.
          </p>

          <pre class="example nohighlight" title="An example of a relationship
credential issued by a child">{
  "id": "http://example.org/credentials/23894",
  "type": ["VerifiableCredential", "RelationshipCredential"],
  "issuer": "http://example.org/credentials/23894",
  "issued": "2010-01-01T19:73:24Z",
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "parent": {
      "id": "did:example:ebfeb1c276e12ec211f712ebc6f",
      "type": "Mother"
    }
  },
  "proof": { ... } // the proof is generated by the child
}
          </pre>

          <p>
In the example above, the child has expressed the relationship between the
child and the parent in a separate <a>credential</a> such that a
<a>verifier</a> would most likely accept any of the child's <a>credentials</a>
if the <a>credential</a> above is provided.
          </p>

          <p>
Similarly, these same strategies can be used for many other types of use cases
such as power of attorney, pet ownership, and patient prescription pickup.
          </p>
        </section>

        <section>
          <h4>Issuer Authorises Holder</h4>

          <p>
When an <a>issuer</a> wants to authorize a <a>holder</a> to possess a
<a>credential</a> that describes a <a>subject</a> who is not the
<a>holder</a>, and the <a>holder</a> has no known relationship with the
<a>subject</a>, then the <a>issuer</a> inserts the relationship of the
<a>holder</a> to itself into the <a>credential</a> for the <a>subject</a>.
          </p>


          <pre class="example nohighlight" title="An example of a credential
issued to a holder who is not the subject of the credential, who has no relationship
with the subject of the credential, but who has a relationship with the issuer">

{
  "id": "http://example.edu/credentials/3732",
  "type": ["VerifiableCredential", "NameAndAddress"],
  "issuer": "https://example.edu/issuers/14",
  "holder": {
    "type": "LawEnforcement",
    "id": "did:example:ebfeb1276e12ec21f712ebc6f1c"
  },
  "issued": "2010-01-01",
  "credentialSubject": {
    "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
    "name": "Mr John Doe",
    "address": "10 Some Street, Anytown, ThisLocal, Country X"
  },
  "proof": {
    "type": "RsaSignature2018",
    "created": "2017-06-17T10:03:48Z",
    "creator": "https://example.edu/issuers/14/keys/234",
    "nonce": "d61c4599-0cc2-4479-9efc-c63add3a43b2",
    "signatureValue": "pY9...Cky6Ed = "
  }
}
          </pre>
        </section>

        <section>
          <h4>Holder Acts on Behalf of the Verifier, or has no Relationship with
the Subject, Issuer, or Verifier</h4>

          <p>
The Verifiable Credentials Data Model currently does not support either of
these scenarios. It is for further study how they might be supported.
          </p>
        </section>
      </section>

      <section>
        <h3>Disputes</h3>

        <p>
There are at least two different cases to consider for an <a>entity</a>
wanting to dispute a <a>credential</a> issued by an <a>issuer</a>:
        </p>

        <ul>
          <li>
A <a>subject</a> disputes a claim made by the <a>issuer</a>. For example, the
address property is out of date.
          </li>
          <li>
An entity disputes a potentially false claim made by the <a>issuer</a> about a
different <a>subject</a>. For example, an imposter claims the social security
number for an <a>entity</a>.
          </li>
        </ul>

        <p>
Only the <a>subject</a> of a <a>verifiable credential</a> is entitled to issue
a <code>DisputeCredential</code>. A <code>DisputeCredential</code> issued by
anyone other than the <a>subject</a> SHOULD be disregarded by the
<a>verifier</a>, unless the <a>verifier</a> has some other way of determining
the truth of the dispute. This is to prevent denial of service attacks whereby
an attacker falsely disputes a true claim.
        </p>

        <p>
The mechanism for issuing a <code>DisputeCredential</code>is the same as
issuing a regular <a>credential</a> except that the
<code>credentialSubject</code> identifier in the
<code>DisputeCredential</code> property is the identifier of the disputed
<a>credential</a>.  For example, if a <a>credential</a> with an identifier of
<code>https://example.org/credentials/245</code> is disputed, an <a>entity</a>
can issue one of the following <a>credentials</a>. In the first example, the
<a>subject</a> might present this to the <a>verifier</a> along with the
disputed <a>credential</a>. In the second example, the <a>entity</a> might
publish the <code>DisputeCredential</code> in a public venue to make it known
that the <a>credential</a> is disputed.
        </p>

        <pre class="example nohighlight" title="Subject disputes a credential">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.com/examples/v1"
  ],
  "id": "http://example.com/credentials/123",
  "type": ["VerifiableCredential", "DisputeCredential"],
  <span class="highlight">"credentialSubject": {
    "id": "http://example.com/credentials/245",
    "currentStatus": "Disputed",
    "statusReason": "Address is out of date"
  }</span>,
  "issuer": "https://example.com/people#me",
  "issuanceDate": "2017-12-05T14:27:42Z",
  "proof": { ... }
}
        </pre>


        <pre class="example nohighlight" title="Another entity disputes a credential">
{
  "@context": "https://w3id.org/credentials/v1",
  "id": "http://example.com/credentials/321",
  "type": ["VerifiableCredential", "DisputeCredential"],
  <span class="highlight">"credentialSubject": {
    "id": "http://example.com/credentials/245",
    "currentStatus": "Disputed",
    "statusReason": "Credential contains disputed statements",
    "disputedClaim": {
      "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
      "degree": {
        "type": "BachelorDegree",
        "name": "Bachelor of Science in Mechanical Engineering"
      }
    }
  }</span>,
  "issuer": "https://example.com/people#me",
  "issuanceDate": "2017-12-05T14:27:42Z",
  "proof": { ... }
}
        </pre>

        <p class="note">
If a <a>credential</a> does not have an identifier, a content-addressed
identifier can be used to identify the disputed <a>credential</a>. Similarly,
content-addressed identifiers can be used to uniquely identify individual claims.
        </p>

        <p class="issue">
The group is currently exploring whether the specification of a vocabulary
term to express content-based identifiers for claims is within scope as well
as the specific vocabulary terms for disputed claims.
        </p>
      </section>

      <section>
        <h3>Authorization</h3>

        <p>
<a>Verifiable credentials</a> are intended as a means of reliably identifying
<a>subjects</a>. While it is recognized that Role Based Access Controls (RBAC) and
Attribute Based Access Controls (ABAC) rely on this identification as a means
of authorizing <a>subjects</a> to access resources, this specification
MUST NOT be used for authorization purposes without an accompanying
authorization framework.
        </p>

        <p>
The Working Group did consider authorization use cases during the creation of
this specification and is pursuing that work as an architectural layer built
on top of this specification.
        </p>
      </section>

      <section>
        <h3>Syntactic Sugar</h3>

        <p>
In general, the data model and syntaxes described in this document are
designed such that developers can copy and paste examples to incorporate
<a>verifiable credentials</a> into their software systems. The design goal of
this approach is to provide a low barrier to entry while still ensuring global
interoperability between a heterogeneous set of software systems. This section
describes some of these approaches, which will most likely go unnoticed by most
developers, but whose details will be of interest to implementers. The most
noteworthy syntactic sugars used throughout the ecosystem are as follows:
        </p>

        <ul>
          <li>
If processed using a JSON-LD processor:
            <ul>
              <li>
The <code>@id</code> and <code>@type</code> keywords are aliased to
<code>id</code> and <code>type</code> respectively, enabling developers to use
this specification as idiomatic JSON.
              </li>
              <li>
Data types, such as integers, dates, units of measure, and URLs, are
automatically typed to provide stronger type guarantees for use cases that
require them.
              </li>
              <li>
The <code>verifiableCredential</code> and <code>proof</code> properties are
treated as <em>graph containers</em>. That is, mechanisms used to isolate sets
of data asserted by different entities. This ensures, for example, proper
cryptographic separation between the data graph provided by each <a>issuer</a>
and the one provided by the <a>holder</a> presenting the
<a>verifiable credential</a> to ensure the provenance of the information for
each graph is preserved.
              </li>
            </ul>
          </li>
        </ul>
      </section>
    </section>

    <section>
      <h2>Syntaxes</h2>

      <p>
Many of the concepts in this document were introduced by example using the
JSON syntax. This section formalizes how the data model (described in Sections
<a href="#core-data-model"></a>, <a href="#basic-concepts"></a>, and
<a href="#advanced-concepts"></a>) is realized in JSON and JSON-LD. Although
syntactic mappings are provided for these two syntaxes only, applications and
services can use any other data representation syntax,
such as XML, YAML, or CBOR, that is capable of expressing the data model.
      </p>

      <section>
        <h3>JSON</h3>

        <p>
The data model as described in Section <a href="#core-data-model"></a> can be
encoded in Javascript Object Notation (JSON) [[!RFC8259]] by mapping property
values to JSON types as follows:
        </p>

        <ul>
          <li>
Numeric values representable as IEEE754 SHOULD be represented as a Number type.
          </li>
          <li>
Boolean values SHOULD be represented as a Boolean type.
          </li>
          <li>
Sequence value SHOULD be represented as an Array type.
          </li>
          <li>
Unordered sets of values SHOULD be represented as an Array type.
          </li>
          <li>
Sets of <a>properties</a> SHOULD be represented as an Object type.
          </li>
          <li>
Empty values SHOULD be represented as a null value.
          </li>
          <li>
Other values MUST be represented as a String type.
          </li>
        </ul>
      </section>

      <section>
        <h3>JSON-LD</h3>

        <p>
[[!JSON-LD]] is a JSON-based format used to serialize
<a href="http://www.w3.org/TR/ld-glossary/#linked-data">Linked Data</a>.
The syntax is designed to easily integrate into deployed systems already using
JSON, and provides a smooth upgrade path from JSON to JSON-LD. It is primarily
intended to be a way to use Linked Data in Web-based programming environments,
to build interoperable Web services, and to store Linked Data in JSON-based
storage engines.
        </p>

        <p>
JSON-LD is useful when extending the data model described in this
specification. Instances of the data model are encoded in JSON-LD in the same
way they are encoded in JSON (Section <a href="#json"></a>), with the addition
of the <code>@context</code> property. The
<a href="https://www.w3.org/TR/json-ld/#the-context">JSON-LD Context</a>
is described in detail in the [[!JSON-LD]] specification and its use is
elaborated on in Section <a href="#extensibility"></a>.
        </p>

        <p>
Multiple contexts MAY be used or combined to express any arbitrary information
about credentials in idiomatic JSON. If an application is processing a
<a>verifiable credential</a> or <a>verifiable presentation</a>, and a
<code>@context</code> property is not present at the top-level of the JSON-LD
document, then a <code>@context</code> property with a value of
<code>https://w3.org/2018/credentials/v1</code> MUST be assumed. The JSON-LD
Context available at <code>https://w3.org/2018/credentials/v1</code> is a
static document that is never updated and can therefore be downloaded and
cached client side. The associated vocabulary document for the Verifiable
Credentials Data Model is available at
<code>https://w3.org/2018/credentials</code>.
        </p>
      </section>

      <section>
        <h3>JSON Web Token</h3>

        <p>
JSON Web Token (JWT) [[!RFC7519]] is still a widely used means to express claims to be transferred
between two parties. Providing a representation of the verifiable credentials data
model for JWT will allow existing systems and libraries to participate in the
ecosystem as described in Section <a href="#ecosystem-overview"></a>.
A JWT encodes a set of claims as a JSON object that is contained in a JSON Web Signature
(JWS) [[!RFC7515]] and/or JWE [[!RFC7516]]. For this specification, the use of JWE is out of scope.
        </p>

        <section>
          <h4>Relation to the VC Data Model</h4>

          <p>
This specification defines encoding rules of the verifiable credential and presentation data
model onto JWT and JWS. It further defines processing rules how and when to make use of specific
JWT registered claim names and specific JWS registered header parameter names to allow systems based
on JWT to comply with this specification. If these specific claim names and header parameters are
present, their respective counterpart in the verifiable credential and presentation MAY be omitted
to avoid duplication.
          </p>
        </section>

        <section>
          <h4>IANA Considerations</h4>

          <p>
This specification introduces two new registered claim names which contain the JSON or JSON-LD
verifiable credentials and presentation object enclosed in the JWT payload:
          </p>

          <ul>
            <li>
<code>vc</code>: JSON object, and MUST be present in a JWT verifiable credential. The object contains the verifiable
credential according to this specification.
            </li>
            <li>
<code>vp</code>: JSON object, and MUST be present in a JWT verifiable presentation. The object contains the verifiable
presentation according to this specification.
            </li>
          </ul>
        </section>

        <section>
          <h4>JWT and JWS Considerations</h4>

          <p>
If the JWS is present, the digital signature either refers to the issuer of the verifiable credential
or the holder of the credential in case of a presentation. The JWS will prove that the issuer of the
JWT signed the contained JWT payload and therefore, the <code>proof</code> property can be omitted. If no JWS is
present, then a <code>proof</code> property MUST be provided. The proof property can be used to represent more
complex proofs, e.g., if the creator is different from the issuer, or a <code>proof</code> which is not based on
digital signatures such as proof of work. The issuer MAY include both, a JWS and a <code>proof</code> property.
For backward compatibility reasons, the issuer MUST use JWS to represent proofs based on a digital
signature.
          </p>

          <p>
Besides, the following defines rules for JOSE headers in the context of this specification:
          </p>

          <ul>
            <li>
<code>alg</code> MUST be used for RSA and ECDSA based digital signatures. If only the
<code>proof</code> attribute was used, the <code>alg</code> header MUST be set to <code>none</code>.
            </li>
            <li>
<code>kid</code> MAY be used if there are multiple keys associated with the issuer of the JWT.
The key discovery is out of the scope of this specification. For example, the <code>kid</code> can refer to a
key in a DID Document, or can be the identifier of a key inside a JWKS.
            </li>
            <li>
<code>typ</code> MUST be set to <code>JWT</code> if present.
            </li>
          </ul>

          <p>
For backward compatibility with JWT processors the following JWT registered claim names MUST be used
instead of or in addition to their respective verifiable credential counterparts:
          </p>

          <ul>
            <li>
<code>exp</code> MUST represent <code>expirationDate</code> encoded as a Unix timestamp (<code>NumericDate</code>).
            </li>
            <li>
<code>iss</code> MUST represent the <code>issuer</code> property.
            </li>
            <li>
<code>iat</code> MUST represent <code>issuanceDate</code> encoded as a Unix timestamp (<code>NumericDate</code>).
            </li>
            <li>
<code>jti</code> MUST represent the <code>id</code> property of the verifiable credential.
            </li>
            <li>
<code>sub</code> MUST represent the <code>id</code> property contained in the credential subject.
            </li>
            <li>
<code>aud</code> MUST represent the <code>subject</code> of the consumer of the presentation.
            </li>
          </ul>

          <p>
Other JOSE header parameters and claim names not specified herein can be used if their use is not
explicitly discouraged.
          </p>

          <pre class="example nohighlight" title="JWT header of a JWT-based verifiable credential using JWS as a proof (non-normative)">
{
    "alg": "RS256",
    "typ": "JWT",
    "kid": "did:example:abfe13f712120431c276e12ecab#keys-1"
}
          </pre>

          <p class="issue">
Add a short description explaining the example above.
          </p>

          <pre class="example nohighlight" title="JWT payload of a JWT-based verifiable credential using JWS as a proof (non-normative)">
{
  "sub": "did:example:ebfeb1f712ebc6f1c276e12ec21",
  "jti": "http://example.edu/credentials/3732",
  "iss": "did:example:abfe13f712120431c276e12ecab",
  "iat": "1541493724",
  "exp": "1573029723",
  "nonce": "660!6345FSer",
  "vc": {
    "@context": [
      "https://w3.org/2018/credentials/v1",
      "https://example.com/examples/v1"
    ],
    "type": ["VerifiableCredential", "UniversityDegreeCredential"],
    "credentialSubject": {
      "degree": {
        "type": "BachelorDegree",
        "name": "Bachelor of Science in Mechanical Engineering"
      }
    }
  }
}
          </pre>

          <p class="issue">
Add a short description explaining the example above.
          </p>

          <p class="issue">
Add an example of what a base64 JWT encoded verifiable credential looks.
          </p>

          <pre class="example nohighlight" title="JWT header of a JWT based verifiable presentation (non-normative)">
{
  "alg": "RS256",
  "typ": "JWT",
  "kid": "did:example:ebfeb1f712ebc6f1c276e12ec21#keys-1"
}
          </pre>

          <p class="issue">
Add a short description explaining the example above.
          </p>

          <pre class="example nohighlight" title="JWT payload of a JWT based verifiable presentation (non-normative)">
{
  "iss": "did:example:ebfeb1f712ebc6f1c276e12ec21",
  "jti": "urn:uuid:3978344f-8596-4c3a-a978-8fcaba3903c5",
  "aud": "did:example:4a57546973436f6f6c4a4a57573",
  "iat": "1541493724",
  "exp": "1573029723",
  "nonce": "343s$FSFDa-",
  "vp": {
    "@context": [
      "https://w3.org/2018/credentials/v1",
      "https://example.com/examples/v1"
    ],
    "type": ["VerifiablePresentation"],
    <span class="comment">// base64url-encoded JWT as string</span>
    "verifiableCredential": ["..."]
  }
}
          </pre>

          <p class="issue">
Add a short description explaining the example above. Also mention that @context might be omitted.
          </p>

          <p class="issue">
Add an example of what a base64 JWT encoded verifiable presentation looks.
          </p>

          <p class="issue">
A number of the concerns have been raised around security,
composability, reusability, and extensibility with respect
to the use of JWTs for Verifiable Credentials. These concerns
will be documented in time in at least the Verifiable Claims Model
and Security Considerations section of this document.
          </p>
        </section>
      </section>
    </section>

    <section>
      <h2>Verification</h2>

      <p>
This section describes a number of checks required to verify a
<a>credential</a>. Some checks are essential for all
<a>verifiable credentials</a>, while other checks are applicable to only some
<a>credentials</a>.
      </p>

      <p class="issue" data-number=128>
The group is currently discussing whether a mechanism should be provided
that enables linkages to JSON Schema or other optional verification mechanisms.
      </p>

      <section>
        <h3>Syntax</h3>

        <p>
The document is syntactically valid. For example, syntactically valid JSON or
JSON-LD.
        </p>
      </section>

      <section>
        <h3>Credential</h3>

        <p>
Required properties MUST be present. For example, for a
<a>verifiable credential</a>, <code>type</code>, and <code>proof</code>
properties are required.
        </p>

        <p>
Property values MUST match expectations described in this specification. For
example, the document <code>type</code> property for a
<a>verifiable credential</a> MUST contain the
<code>VerifiableCredential</code> class.
        </p>
      </section>

      <section>
        <h3>Issuer</h3>

        <p>
The value associated with the <code>issuer</code> property MUST identify an
<a>issuer</a> that is known to and trusted by the <a>verifier</a>.
        </p>

        <p>
Pertinent metadata about the <code>issuer</code> MUST be available to the
<a>verifier</a>. For example, an <a>issuer</a> can publish information
containing the public keys it uses to digitally sign
<a>verifiable credentials</a> that it has issued. This metadata is pertinent
when checking the proofs on the <a>verifiable credential</a>.
        </p>
      </section>

      <section>
        <h3>Subject</h3>

        <p>
The value associated with the <code>id</code> property for each
<code>credentialSubject</code> MUST identify a <a>subject</a> to the
<a>verifier</a>. For example, if a <a>subject</a> is identified and the
<a>verifier</a> has public key metadata related to the <a>subject</a> that is
used for authentication purposes, the verifier MAY be able to authenticate the
<a>subject</a> using a signature generated by the <a>subject</a> contained in
the <a>verifiable presentation</a>.
        </p>

        <p class="issue" data-number=162>
The group is currently discussing how authentication and WebAuthn may work.
        </p>

        <p class="note">
The <code>id</code> property is optional. <a>Verifiers</a> MAY use other
properties in a <a>credential</a> to uniquely identify a <a>subject</a>.
        </p>
      </section>

      <section>
        <h3>Proofs (Signatures)</h3>

        <p>
The cryptographic mechanism used to prove that the information in a
<a>verifiable credential</a> or a <a>verifiable presentation</a> has not been
tampered with is called a <em>proof</em>. There are many types of
cryptographic proofs including, but not limited to, digital signatures,
zero-knowledge proofs, proofs of work, and proofs of stake. In general, when
verifying proofs implementations MUST ensure that:
        </p>

        <ul>
          <li>
The proof is available in the form of a known proof suite.
          </li>
          <li>
All required proof suite properties are present.
          </li>
          <li>
The proof suite verification algorithm, when applied to the data, results in an
acceptable proof.
          </li>
        </ul>

        <p>
Some proofs are digital signatures. In general, when verifying digital
signatures, implementations MUST ensure that:
        </p>

        <ul>
          <li>
Acceptably recent metadata regarding the public key associated with the
signature is available. For example, the metadata might include properties
related to expiration, key owner, or key purpose.
          </li>
          <li>
The key MUST NOT be revoked or expired.
          </li>
          <li>
The cryptographic signature MUST verify.
          </li>
          <li>
If the cryptographic suite expects a <code>proofPurpose</code>, it MUST exist
and be a valid value (such as <code>credentialIssuance</code>) as per the
cryptographic suite.
          </li>
        </ul>

        <p class="note">
The digital signature provides a number of protections, other than tamper
resistance, that are not immediately obvious. For example, a Linked Data
Signature <code>created</code> property establishes a date and time before
which the <a>credential</a> SHOULD NOT be considered verified. The
<code>creator</code> property enables the ability to dynamically discover
information about the <a>entity</a> who created the data to ensure that the
public key is not revoked or expired. The <code>proofPurpose</code> property
ensures the reason the entity created the signature, such as for
authentication or creating a <a>verifiable credential</a>, is clear and
protected in the signature.
        </p>
      </section>

      <section>
        <h3>Issuance</h3>

        <p>
The <code>issuanceDate</code> MUST be within an expected range for the
<a>verifier</a>. For example, a <a>verifier</a> can ensure that the issuance
date of a <a>verifiable credential</a> is not in the future.
        </p>
      </section>

      <section>
        <h3>Expiration</h3>

        <p>
The <code>expirationDate</code> MUST be within an expected range for the
<a>verifier</a>. For example, a <a>verifier</a> can ensure that the expiration
date of a <a>verifiable credential</a> is not in the past.
        </p>
      </section>

      <section>
        <h3>Revocation</h3>

        <p>
If revocation instructions are present, the <a>credential</a> MUST NOT
have been revoked.
        </p>
      </section>

      <section>
        <h3>Fitness for Purpose</h3>

        <p>
Custom properties in the <a>credential</a> are appropriate for the purpose of
the <a>verifier</a>. For example, if a <a>verifier</a> needs to determine if a
<a>subject</a> is older than 21 years of age, they might accept claims of
specific <code>birthdate</code> or abstract properties such as
<code>ageOver</code>.
        </p>

        <p>
The <a>issuer</a> is trusted by the <a>verifier</a> to make the claims at
hand. For example, a franchised fast food restaurant location will trust
discount coupon claims made by the corporate headquarters of the franchise.
        </p>

        <p>
All policy information expressed by an <a>issuer</a> in a
<a>verifiable credential</a> MUST be enforced unless <a>verifiers</a> accept
the risk of not enforcing the policy information. For example, an
<a>issuer</a> might limit the use of a <a>credential</a> to specific
<a>verifiers</a>, to <a>holders</a> within a specific age range, or between
specific dates.
        </p>

        <p>
All policy information expressed by a <a>holder</a> in a
<a>verifiable presentation</a> MUST be enforced unless <a>verifiers</a> accept
the risk of not enforcing the policy information. For example, a <a>holder</a>
might limit the use of a <a>credential</a> to specific <a>verifiers</a> or for
specific purposes (such as authentication, but not data mining).
        </p>
      </section>
    </section>

    <section class="informative">
      <h2>Accessibility Considerations</h2>

      <p>
There are a number of accessibility considerations implementers should be
aware of when processing data described in this specification. As with any web
standards or protocols implementation, ignoring accessibility issues makes
this information unusable to a large subset of the population. It is important
to follow accessibility guidelines and standards, such as [[WCAG21]], to ensure
all people, regardless of ability, can make use of this data. This is
especially important when establishing systems that utilize cryptography and
encryption, which historically, have created problems for assistive
technologies.
      </p>

      <p>
This section details the general accessibility considerations to take into
account when utilizing this data model.
      </p>

      <section>
        <h3>Data First Approaches</h3>

        <p>
Many physical credentials in use today, such as government identification
cards, have poor accessibility characteristics, including, but not limited to,
small print, reliance on small and high-resolution images, and no affordances
for people with vision impairments.
        </p>

        <p>
When utilizing this data model to create <a>verifiable credentials</a>, it is
suggested that data model designers use a "data first" approach. For example,
given the choice of using data or a graphical image to depict a
<a>credential</a>, designers should choose to express every element of the
image, such as the name of an institution or the professional credential, in a
machine readable way instead of just relying on the image to convey this
information. This "data first" approach is preferred because it provides the
foundational elements of building different interfaces for people with varying
abilities.
        </p>
      </section>
    </section>

    <section class="informative">
      <h2>Privacy Considerations</h2>

      <p>
This section details the general privacy considerations and specific privacy
implications of deploying the Verifiable Credentials Data model into production
environments.
      </p>

      <section>
        <h3>Spectrum of Privacy</h3>

        <p>
It is important to recognize there is a spectrum of privacy ranging from
pseudonymous to strongly identified. Depending on the use case, people have
different comfort levels about what information they are willing to provide
and what information can be derived from what is provided.
        </p>

        <figure>
          <img style="margin: auto; display: block;" width="80%"
            src="diagrams/privacy-spectrum.svg">
          <figcaption style="text-align: center;">
- Privacy is a spectrum ranging from pseudonymous to fully identified.
          </figcaption>
        </figure>

        <p>
For example, most people probably want to remain anonymous when purchasing
alcohol because the regulatory check required is solely based on whether a
person is above a specific age. Alternatively, for medical prescriptions
written by a doctor for a patient, the pharmacy fulfilling the prescription is
required to more strongly identify the medical professional. Therefore there is
not one approach to privacy that works for all use cases. Privacy solutions are
use case specific.
        </p>

        <p class="note">
Even for those wanting to remain anonymous when purchasing alcohol, photo
identification might still be required to provide appropriate assurance to the
merchant. The merchant might not need to know your name or other details (other
than that you are over a specific age), but in many cases just proof of age
might still be insufficient to meet regulations.
        </p>

        <p>
The Verifiable Credentials Data Model strives to support the full privacy
spectrum and does not take philosophical positions on the correct level of
anonymity for any specific transaction. The following sections provide
guidance for implementers who want to avoid specific scenarios that are
hostile to privacy.
        </p>
      </section>

      <section>
        <h3>Personally Identifiable Information</h3>

        <p>
Data associated with <a>verifiable credentials</a> stored in the
<code>credential.credentialSubject</code> field is susceptible to privacy
violations when shared with <a>verifiers</a>. Personally identifying data, such
as a government-issued identifier, shipping address, and full name, can be
easily used to determine, track, and correlate an <a>entity</a>. Even
information that does not seem personally identifiable, such as the
combination of a birth date and a postal code, has very powerful correlation
and de-anonymizing capabilities.
        </p>

        <p>
Implementers are strongly advised to warn <a>holders</a> when they share data
with these kinds of characteristics. <a>Issuers</a> are strongly advised to
provide privacy-protecting credentials when possible. For example, issuing
<code>ageOver</code> <a>credentials</a> instead of date of birth credentials
when a <a>verifier</a> wants to determine if an <a>entity</a> is over the age
of 18.
        </p>
      </section>

      <section>
        <h3>Identifier-Based Correlation</h3>

        <p>
<a>Subjects</a> of <a>verifiable credentials</a> are identified using the
<code>credential.credentialSubject.id</code> field. The identifiers used to
identify a <a>subject</a> create a greater risk of correlation when the
identifiers are long-lived or used across more than one web domain.
        </p>

        <p>
If strong anti-correlation properties are a requirement in a
<a>verifiable credentials</a> system, it is strongly advised that identifiers
are either:
        </p>

        <ul>
          <li>
Bound to a single origin
          </li>
          <li>
Single-use
          </li>
          <li>
Not used at all, but instead replaced by short-lived, single-use bearer tokens.
          </li>
        </ul>
      </section>

      <section>
        <h3>Signature-Based Correlation</h3>

        <p>
The contents of <a>verifiable credentials</a> are secured using the
<code>credential.proof</code> field. The properties in this field
create a greater risk of correlation when the same values are used across more
than one session or domain and the value does not change. Examples include the
<code>creator</code>, <code>created</code>, <code>domain</code> (for very
specific domains), <code>nonce</code>, and <code>signatureValue</code> fields.
        </p>

        <p>
If strong anti-correlation properties are required, it is advised that
signature values and metadata are regenerated each time using technologies like
third-party pairwise signatures, zero-knowledge proofs, or group signatures.
        </p>

        <p class="note">
Even when using anti-correlation signatures, information might still be
contained in a <a>credential</a> that defeats the anti-correlation properties
of the cryptography used.
        </p>
      </section>

      <section>
        <h3>Long Lived Identifier-Based Correlation</h3>

        <p>
<a>Verifiable credentials</a> might contain long-lived identifiers that could
be used to correlate individuals. These types of identifiers include
<a>subject</a> identifiers, email addresses, government-issued identifiers,
organization-issued identifiers, addresses, healthcare vitals,
credential-specific JSON-LD contexts, and many other sorts of long-lived
identifiers.
        </p>

        <p>
Organizations providing software to <a>holders</a> should strive to identify
fields in credentials containing information that could be used to correlate
individuals and warn <a>holders</a> when this information is shared.
        </p>
      </section>

      <section>
        <h3>Device Fingerprinting</h3>

        <p>
There are mechanisms external to <a>verifiable credentials</a> that are used to
track and correlate individuals on the Internet and the Web. Some of these
mechanisms include Internet protocol (IP) address tracking, web browser
fingerprinting, evercookies, advertising network trackers, mobile network
position information, and in-application Global Positioning System (GPS) APIs.
Using <a>verifiable credentials</a> cannot prevent the use of these other
tracking technologies. Also, when these technologies are used in conjunction
with <a>verifiable credentials</a>, new correlatable information could be
discovered. For example, a birthday coupled with a GPS position can be used to
strongly correlate an individual across multiple websites.
        </p>

        <p>
It is recommended that privacy-respecting systems prevent the use of these
other tracking technologies when <a>verifiable credentials</a> are being used.
In some cases, tracking technologies might need to be disabled on devices that
transmit <a>verifiable credentials</a> on behalf of a <a>holder</a>.
        </p>
      </section>

      <section>
        <h3>Favor Abstract Claims</h3>

        <p>
To enable recipients of <a>verifiable credentials</a> to use them in a
variety of circumstances without revealing more personally identifiable
information than necessary for transactions, <a>issuers</a> should consider
limiting the information published in a <a>credential</a> to a minimal set
needed for the expected purposes. One way to avoid placing personally
identifiable information in a <a>credential</a> is to use an "abstract"
property that meets the needs of <a>verifiers</a> without providing specific
information about a <a>subject</a>.
        </p>
        <p>
For example, this document uses the <code>ageOver</code> property instead of
a specific birthdate, which constitutes much stronger personally identifiable
information. If retailers in a specific market commonly require purchasers to
be older than a certain age, an <a>issuer</a> trusted in that market might
choose to offer a <a>credential</a> claiming that <a>subjects</a> have met that
requirement instead of offering <a>credentials</a> containing claims about
specific birthdates. This enables individual customers to make purchases
without revealing specific personally identifiable information.
        </p>
      </section>

      <section>
        <h3>The Principle of Minimum Disclosure</h3>

        <p>
Privacy violations occur when information divulged in one context leaks into
another. Accepted best practice for preventing such violations is to limit the
information requested, and received, to the absolute minimum necessary. This
minimum disclosure approach is required by regulation in multiple
jurisdictions, including the Health Insurance Portability and Accountability
Act (HIPAA) in the United States and the General Data Protection Regulation
(GDPR) in the European Union.
        </p>
        <p>
With <a>verifiable credentials</a>, minimal disclosure for <a>issuers</a> means
limiting the content of a <a>credential</a> to the minimum required by
potential <a>verifiers</a> for expected use. For <a>verifiers</a>, minimal
disclosure means limiting the scope of the information requested or required
for accessing services.
        </p>
        <p>
For example, a driver's license containing a driver's ID number, height,
weight, birthday, and home address is a <a>credential</a> containing more
information than is necessary to establish that the person is above a certain
age.
        </p>

        <p>
It is considered best practice for <a>issuers</a> to atomize information or
use a signature scheme that allows for selective disclosure. For example, an
<a>issuer</a> of driver's licenses could issue a set of <a>credentials</a>
containing every attribute that appears on a driver's license, as well as
atomized <a>credentials</a> (for example, a <a>credential</a> containing only
a person's birthday), and more abstract atomized <a>credentials</a> (for
example, a <a>credential</a> containing only an <code>ageOver</code>
attribute). One possible adaptation would be for <a>issuers</a> to provide
secure HTTP endpoints for retrieving single-use bearer <a>credentials</a> that
promote the pseudonymous usage of <a>credentials</a>. Implementers that find
this impractical or unsafe, should consider using selective disclosure schemes
that eliminate dependence on <a>issuers</a> at proving time and reduce temporal
correlation risk from <a>issuers</a>.
        </p>

        <p>
<a>Verifiers</a> are urged to only request information that is absolutely
necessary for a specific transaction to occur. This is important for at
least two reasons. It:
        </p>

        <ul>
          <li>
Reduces the liability on the <a>verifier</a> for handling highly sensitive
information that it does not need to.
          </li>
          <li>
Enhances the privacy of the individual by only asking for information required
for a specific transaction.
          </li>
        </ul>

        <p class="note">
While it is possible to practice the Principle of Minimum Disclosure, it might
be impossible to avoid the strong identification of an individual for
specific use cases during a single session or over multiple sessions. The
authors of this document cannot stress how difficult it is to meet this
principle in real-world scenarios.
        </p>
      </section>

      <section>
        <h3>Bearer Credentials</h3>

        <p>
A <em>bearer credential</em> is a privacy-enhancing piece of information,
such as a concert ticket, which entitles the <a>holder</a> of the credential to a
specific resource without divulging sensitive information about the holder.
        </p>

        <p>
<a>Verifiable credentials</a> that are bearer credentials are made possible by
not specifying the <a>subject</a> identifier, expressed using the
<code>id</code> property, which is nested in the <code>credentialSubject</code>
property. For example, the following <a>verifiable credential</a> is a bearer
credential:
        </p>

        <pre class="example nohighlight" title="Usage of issuer properties">
{
  "@context": [
    "https://w3.org/2018/credentials/v1",
    "https://example.com/examples/v1"
  ],
  "id": "http://example.edu/credentials/temporary/28934792387492384",
  "type": ["VerifiableCredential", "UniversityDegreeCredential"],
  "issuer": "https://example.edu/issuers/14",
  "issuanceDate": "2017-10-22T12:23:48Z",
  "credentialSubject": {
    <span class="comment">// note that the 'id' property is not specified for bearer credentials</span>
    "degree": {
      "type": "BachelorDegree",
      "name": "Bachelor of Science in Mechanical Engineering"
    }
  },
  "proof": { ... }
}
        </pre>

        <p>
While bearer credentials can be privacy-enhancing, they must be carefully
crafted so as not accidentally divulge more information than the <a>holder</a>
of the <a>credential</a> expects. For example, repeated use of the same bearer
credential across multiple sites enables these sites to potentially collude to
unduly track or correlate the <a>holder</a>. Likewise, information that might
seem non-identifying, such as a birthdate and postal code, can be used to
statistically identify an individual when used together in the same
<a>credential</a> or session.
        </p>

        <p>
<a>Issuers</a> of bearer credentials SHOULD ensure that bearer credentials that
are expected to provide privacy-enhancing benefits that:
        </p>

        <ul>
          <li>
Are single-use, where possible
          </li>
          <li>
Do not contain personally identifying information
          </li>
          <li>
Are not unduly correlatable.
          </li>
        </ul>

        <p>
<a>Holders</a> SHOULD be warned by their software if bearer credentials
containing sensitive information are issued or requested, or if there is a
correlation risk when combining two or more bearer credentials across one
or more sessions. While it might be impossible to detect all correlation risks,
some might certainly be detectable.
        </p>

        <p>
<a>Verifiers</a> SHOULD NOT request bearer credentials that can be used to
unduly correlate the user.
        </p>
      </section>

      <section>
        <h3>Validity Checks</h3>

        <p>
When processing <a>verifiable credentials</a>, <a>verifiers</a> typically
perform many of the checks listed in Section <a href="#verification"></a> as
well as a variety of business process-specific checks. For example, validity
checks might include checking:
        </p>

        <ul>
          <li>
The professional licensure status of the <a>holder</a>.
          </li>
          <li>
A date of license renewal or revocation.
          </li>
          <li>
Sub-qualifications of an individual.
          </li>
          <li>
A relationship exists between the <a>holder</a> and the <a>entity</a>
with whom the <a>holder</a> is attempting to interact.
          </li>
          <li>
The geolocation information associated with the <a>holder</a>.
          </li>
        </ul>

        <p>
The process of performing these checks might result in information leakage that
leads to a privacy violation of the <a>holder</a>. For example, a simple
operation like checking a revocation list can notify the <a>issuer</a> that a
specific business is likely interacting with the <a>holder</a>. This could
enable <a>issuers</a> to collude and correlate individuals without their
knowledge.
        </p>

        <p>
<a>Issuers</a> are urged to not use mechanisms, such as <a>credential</a>
revocation lists that are unique per credential, during the verification
process, which could lead to privacy violations. Organizations providing
software to <a>holders</a> should warn when <a>credentials</a> include
information that could lead to privacy violations during the verification
process. <a>Verifiers</a> should consider rejecting <a>credentials</a> that
produce privacy violations or that enable bad privacy practices.
        </p>
      </section>

      <section>
        <h3>Storage Providers and Data Mining</h3>

        <p>
When a <a>holder</a> receives a <a>credential</a> from an <a>issuer</a>, the
<a>credential</a> needs to be stored somewhere (for example, in a credential
repository). <a>Holders</a> are warned that the information in a
<a>verifiable credential</a> is sensitive in nature and highly individualized,
making it a high value target for data mining. Services that advertise
free storage of <a>verifiable credentials</a> might in fact be mining personal
data and selling it to organizations wanting to build individualized profiles
on people and organizations.
        </p>
        <p>
<a>Holders</a> need to be aware of the terms of service for their
<a>credential</a> repository, specifically the correlation and data mining
protections in place for those who store their <a>verifiable credentials</a>
with the service provider.
        </p>
        <p>
The following are some effective mitigations for data mining and profiling:
        </p>

        <ul>
          <li>
Use service providers that do not sell your information to third parties.
          </li>
          <li>
Use software that encrypts <a>verifiable credentials</a> such that a service
provider cannot view the contents of the <a>credential</a>.
          </li>
          <li>
Use software that stores <a>verifiable credentials</a> locally on a device
that you control and that does not upload or analyze your information beyond
your expectations.
          </li>
        </ul>
      </section>

      <section>
        <h3>Aggregation of Credentials</h3>

        <p>
Two pieces of information about the same <a>subject</a> almost always reveals
more about the <a>subject</a> than just a single piece of information, even
when delivered through different channels. The aggregation of
<a>credentials</a> is a privacy risk and all participants in the ecosystem need
to be aware of the risks of data aggregation.
        </p>

        <p>
For example, if two bearer credentials, one for an email address and then one
stating the holder is over the age of 21, are provided across multiple
sessions, the <a>verifier</a> of the information now has a unique identifier
plus age-related information for the individual. It is now easy to create and
build a profile for the <a>holder</a> such that more and more information is
leaked over time. Aggregation of <a>credentials</a> can also be performed across
multiple sites in collusion with each other, leading to privacy violations.
        </p>

        <p>
From a technological perspective, preventing the aggregation of information is
a very difficult privacy problem to address. While new cryptographic techniques,
such as zero-knowledge proofs, are being proposed as solutions to the problem
of aggregation and correlation, the existence of long-lived identifiers
and browser tracking techniques defeats even the most modern cryptographic
techniques.
        </p>

        <p>
The solution to the privacy implications of correlation or aggregation tend
not to be technological in nature, but policy driven instead. Therefore, if
a <a>holder</a> does not want information about them to be aggregated, they
must express this in the <a>verifiable presentations</a> they transmit.
        </p>
      </section>

      <section>
        <h3>Usage Patterns</h3>

        <p>
Despite the best efforts to assure privacy, actually using
<a>verifiable credentials</a> can potentially lead to de-anonymization and a
loss of privacy. This correlation can occur when:
        </p>

        <ul>
          <li>
The same <a>credential</a> is presented to the same <a>verifier</a> more than
once. In this case, the <a>verifier</a> could infer that the <a>holder</a> is
the same individual.
          </li>
          <li>
The same <a>credential</a> is presented to different <a>verifiers</a>, and
either those <a>verifiers</a> collude or a third party has access to
transaction records from both <a>verifiers</a>. In this case, the observant
party could infer that the individual presenting the <a>credential</a> is the
same person at both services. That is, the accounts are controlled by the same
person.
          </li>
          <li>
The same <a>subject</a> identifier of a <a>credential</a> refers to the same
<a>subject</a> across <a>presentations</a> or <a>verifiers</a>, then loss of
privacy is possible. Even when different <a>credentials</a> are presented, if
the <a>subject</a> identifier is the same, <a>verifiers</a> (and those with
access to <a>verifier</a> logs) could infer that the <a>holder</a> of the
<a>credential</a> is the same person.
          </li>
          <li>
The underlying information in a <a>credential</a> can be used to identify an
individual across services. In this case, using information from other sources
(including information provided directly by the user), <a>verifiers</a> can use
information inside the <a>credential</a> to correlate the individual with an
existing profile. For example, if a <a>holder</a> presents <a>credentials</a>
that include postal code, age, and sex, a <a>verifier</a> can potentially
correlate the <a>subject</a> of that <a>credential</a> with an established
profile. For more information, see Sweeney 2000
<a href="http://dataprivacylab.org/projects/identifiability/paper1.pdf">Simple Demographics Often Identify People Uniquely</a>].
          </li>
          <li>
Passing the identifier of a <a>credential</a> to a centralized revocation
server. In this case the centralized server can correlate the <a>credential</a>
usage across interactions. For example, if a <a>verifiable credential</a> is
used for proof of age in this manner, the centralized service could know
everywhere that credential was presented: all liquor stores, bars, adult
stores, lottery purchases, and so on.
          </li>
        </ul>

        <p>
In part, it is possible to mitigate this de-anonymization and loss of privacy
by:
        </p>

        <ul>
          <li>
Using a globally-unique identifier as the <a>subject</a> for any given
<a>credential</a> and never re-use that <a>credential</a>.
          </li>
          <li>
If the <a>credential</a> supports revocation, using a globally-distributed
service for revocation.
          </li>
          <li>
Designing revocation APIs that do not depend on submitting the ID of the
<a>credential</a>. For example, use a revocation list instead of a query.
          </li>
          <li>
Avoiding the association of personally identifiable information with any
specific long-lived <a>subject</a> identifier.
          </li>
        </ul>

        <p>
It is understood that these mitigation techniques are not always practical
or even compatible with necessary usage. Sometimes correlation is a
requirement.
        </p>
        <p>
For example, in some prescription drug monitoring programs, usage monitoring is
a requirement. Enforcement entities need to be able to confirm that individuals
are not cheating the system to get multiple prescriptions for controlled
substances. This statutory or regulatory need to correlate usage overrides
individual privacy concerns.
        </p>

        <p>
<a>Verifiable credentials</a> will also be used to intentionally correlate
individuals across services, for example, when using a common persona to log in
to multiple services, so all activity on each of those services is
intentionally linked to the same individual. This is not a privacy issue as
long as each of those services uses the correlation in the expected manner.
        </p>

        <p>
Privacy risks of <a>credential</a> usage occur when unintended or unexpected
correlation arises from the presentation of <a>verifiable credentials</a>.
        </p>
      </section>

      <section>
        <h3>Sharing Information with the Wrong Party</h3>

        <p>
When a <a>holder</a> chooses to share information with a <a>verifier</a>, it
might be the case that the <a>verifier</a> is acting in bad faith and requests
information that could be used to harm the holder. For example, a
<a>verifier</a> might ask for a bank account number, which could then be used
with other information to defraud the <a>holder</a> or the bank.
        </p>

        <p>
<a>Issuers</a> should strive to tokenize as much information as possible such
that if a <a>holder</a> accidentally transmits <a>credentials</a> to the wrong
<a>verifier</a>, the situation is not catastrophic.
        </p>

        <p>
For example, instead of including a bank account number for the purpose of
checking a individual's bank balance, provide a token that enables the
<a>verifier</a> to check if the balance is above a certain amount. In this
case, the bank could issue a <a>verifiable credential</a> containing a balance
checking token to a <a>holder</a>. The <a>holder</a> would then include the
<a>verifiable credential</a> in a <a>verifiable presentation</a> and bind the
token to a credit checking agency using a digital signature. The
<a>verifier</a> could then wrap the <a>verifiable presentation</a> in their
digital signature, and hand it back to the issuer to dynamically check the
account balance.
        </p>

        <p>
Using this approach, even if a <a>holder</a> shares the account balance token
with the wrong party, an attacker cannot discover the bank account number, nor
the exact value in the account. And given the validity period for the
counter-signature, does not gain access to the token for more than a few
minutes.
        </p>
      </section>

      <section>
        <h3>Frequency of Claim Issuance</h3>

        <p>
As detailed in Section <a href="#usage-patterns"></a>, usage patterns can be
correlated into certain types of behavior. Part of this correlation is
mitigated when a <a>holder</a> uses a <a>verifiable credential</a> without the
knowledge of the <a>issuer</a>. <a>Issuers</a> can defeat this protection
however, by making their <a>credentials</a> short lived and renewal automatic.
        </p>

        <p>
For example, an "over the age of 21" <a>credential</a> is useful for gaining
access to a bar. If an <a>issuer</a> issues such a <a>credential</a> with a
very short expiration date and an automatic renewal mechanism, then the
<a>issuer</a> could possibly correlate the behavior of the <a>holder</a> in a
way that negatively impacts the <a>holder</a>.
        </p>

        <p>
Organizations providing software to <a>holders</a> should warn them if they
repeatedly use credentials with short lifespans, which could result in
behavior correlation. <a>Issuers</a> should avoid issuing <a>credentials</a> in
a way that enables them to correlate usage patterns.
        </p>
      </section>

      <section>
        <h3>Prefer Single-Use Credentials</h3>

        <p>
An ideal privacy-respecting system would require only the information necessary
for interaction with the <a>verifier</a> to be disclosed by the <a>holder</a>.
The <a>verifier</a> would then record that the disclosure requirement was met
and forget any sensitive information that was disclosed. In many cases,
competing priorities, such as regulatory burden, prevent this ideal system from
being employed. In other cases, long-lived identifiers prevent single use. The
design of any <a>verifiable credentials</a> ecosystem, however, should strive
to be as privacy-respecting as possible by preferring single-use
<a>credentials</a> whenever possible.
        </p>

        <p>
Using single-use <a>credentials</a> provides several benefits. The first
benefit is to <a>verifiers</a> who can be sure that the data in a
<a>credential</a> is fresh. The second benefit is to <a>holders</a>, who know
that if there are no long-lived identifiers in the <a>credential</a>,
the <a>credential</a> itself cannot be used to track or correlate them online.
Finally, the third benefit is that there is nothing for attackers to steal,
making the entire ecosystem safer to operate within.
        </p>
      </section>

      <section>
        <h3>Avoid Disclosing Credential Identifier</h3>

        <p>
Disclosing the <a>credential</a> identifier leads to situations where multiple
<a>verifiers</a>, or an <a>issuer</a> and a <a>verifier</a>, can collude to
correlate the holder. If <a>holders</a> want to reduce correlation, they
should use <a>credential</a> schemes that allow hiding the identifier during
presentation. Such schemes expect the <a>holder</a> to generate the identifier
and might even allow hiding the identifier from the <a>issuer</a>, while still
keeping the identifier embedded and signed in the <a>credential</a>.
        </p>
      </section>
    </section>

    <section class="informative">
      <h2>Security Considerations</h2>

      <p>
There are a number of security considerations that <a>issuers</a>,
<a>holders</a>, and <a>verifiers</a> should be aware of when processing
data described by this specification. Ignoring or not understanding the
implications of this section can result in security vulnerabilities.
      </p>

      <p>
While this section attempts to highlight a broad set of security
considerations, it should not be interpreted as a complete list. Implementers
are urged to seek the advice of security and cryptography professionals when
implementing mission critical systems using the technology outlined in this
specification.
      </p>

      <section>
        <h3>Cryptography Suites and Libraries</h3>

        <p>
Some aspects of the data model described in this specification can be
protected through the use of cryptography. Implementers should be aware of the
underlying cryptography suites and libraries used to implement the creation and
verification of digital signatures and mathematical proofs used by their
systems when processing <a>credentials</a> and <a>presentations</a>. Software
developers with extensive experience implementing or auditing systems that use
cryptography must be employed to ensure that systems are properly designed.
Proper <a href="https://en.wikipedia.org/wiki/Red_team">red teaming</a> is also
suggested to remove bias from security reviews.
        </p>

        <p>
Cryptography suites and libraries have a shelf life and eventually fall to
new attacks and technology advances. Production quality systems must take
this into account and ensure mechanisms exist to easily and proactively upgrade
expired or broken cryptographic suites and libraries. Procedures should also
exist to invalidate and replace existing <a>credentials</a> in the event of a
cryptography suite or library failure. Regular monitoring of systems to ensure
proper upgrades are made in a timely manner are also important to ensure the
long term viability of systems processing <a>verifiable credentials</a>.
        </p>
      </section>

      <section>
        <h3>Unsigned Claims</h3>

        <p>
This specification allows <a>credentials</a> to be produced that do not contain
signatures or proofs of any kind. These types of <a>credentials</a> are often
useful for intermediate storage, or self-asserted information, which is
analogous to filling out a form on a web page. Implementers should note that
these types of <a>credentials</a> are not verifiable because the authorship
is either not known or cannot be trusted.
        </p>
      </section>

      <section>
        <h3>Token Binding</h3>

        <p>
A <a>verifier</a> might need to ensure it is the intended recipient of a
<a>verifiable presentation</a> and not the target of a
<a href="https://en.wikipedia.org/wiki/Man-in-the-middle_attack">
man-in-the-middle attack</a>. Any protocol that is using the Verifiable
Credentials Data Model and requires protection against these kinds of attacks
needs to perform some sort of token binding, such as
<a href="https://tools.ietf.org/html/draft-ietf-tokbind-protocol-18">
The Token Binding Protocol v1.0</a>, which ties the request for a
<a>verifiable presentation</a> with the response. Any protocol that does not
perform token binding is susceptible to man-in-the-middle attacks.
        </p>
      </section>

      <section>
        <h3>Bundling Dependent Claims</h3>

        <p>
It is considered best practice for <a>issuers</a> to atomize information in a
<a>credential</a>, or use a signature scheme that allows for selective
disclosure. In the case of atomization, if it is not done securely by the
<a>issuer</a>, the <a>holder</a> might bundle together different
<a>credentials</a> in a way that was not intended by the <a>issuer</a>.
        </p>

        <p>
For example a university might issue two <a>credentials</a> to a person, each
containing two properties, for example, "Staff Member" in the "Department of
Computing" and "Post Graduate Student" in the "Department of Economics". If
these <a>credentials</a> are atomized into separate properties, then the
university would issue four credentials to the person, each containing one of
the following properties, "Staff Member", "Post Graduate Student", "Department
of Computing", and "Department of Economics". The <a>holder</a> could then
transfer the "Staff Member" and "Department of Economics" <a>credentials</a> to
a <a>verifier</a>, which together would comprise a false claim.
        </p>
      </section>

      <section>
        <h3>Highly Dynamic Information</h3>

        <p>
When <a>verifiable credentials</a> are issued for highly dynamic information,
implementers should ensure the expiration times are set appropriately.
Expiration periods longer than the timeframe where the <a>credential</a> is
valid might create exploitable security vulnerabilities. Expiration periods
shorter than the timeframe where the information expressed by the
<a>credential</a> is valid creates a burden on <a>holders</a> and
<a>verifiers</a>. It is therefore important to set validity periods for
<a>credentials</a> that are appropriate to the use case and the expected
lifetime for the information contained in the <a>credential</a>.
        </p>
      </section>

      <section>
        <h3>Device Theft and Impersonation</h3>

        <p>
When <a>verifiable credentials</a> are stored on a device and that
device is lost or stolen, it might be possible for an attacker to gain access
to systems using the victim's <a>verifiable credentials</a>. Ways to mitigate
this type of attack include:
        </p>

        <ul>
          <li>
Enabling password, pin, pattern, or biometric screen unlock protection.
          </li>
          <li>
Enabling password, biometric, or multi-factor authentication for the
<a>credential</a> repository.
          </li>
          <li>
Enabling password, biometric, or multi-factor authentication when accessing
cryptographic keys.
          </li>
          <li>
Using a separate hardware-based signature device.
          </li>
          <li>
All or any combination of the above.
          </li>
        </ul>
      </section>
    </section>

    <section class="appendix">
      <h2>Advanced Examples</h2>

      <section class="appendix informative">
        <h3>Subject Passes a Verifiable Credential to Someone Else</h3>

        <p>
When the <a>subject</a> passes a <a>verifiable credential</a> to another
holder, the <a>subject</a> may issue a new <a>verifiable credential</a> to the <a>holder</a> in which:
the <a>issuer</a> is the <a>subject</a>,
the <a>subject</a> is the <a>holder</a> to whom the <a>verifiable credential</a> is being passed,
and the <a>claim</a> contains the properties that are being passed on.
The <a>holder</a> may now create a <a>verifiable presentation</a> that contains these two
<a>verifiable credentials</a>, so that the <a>verifier</a> can verify that the <a>subject</a> gave
the original <a>verifiable credential</a> to the <a>holder</a>.
        </p>

        <pre class="example nohighlight" title="An example of a holder presenting
a verifiable credential that has been passed to it by the subject">
{
  "id": "did:example:76e12ec21ebhyu1f712ebc6f1z2",
  "type": ["VerifiablePresentation"],
  "credential": [
    {
      "id": "http://example.gov/credentials/3732",
      "type": ["VerifiableCredential", "PrescriptionCredential"],
      "issuer": "https://dmv.example.gov",
      "issued": "2010-01-01",
      "claim": {
        "id": "did:example:ebfeb1f712ebc6f1c276e12ec21",
        "prescription": {....}
      },
      "revocation": {
        "id": "http://example.gov/revocations/738",
        "type": "SimpleRevocationList2017"
      },
      "proof": {....}
    },
    {
      "id": "https://example.com/VC/123456789",
      "type": ["VerifiableCredential", "PrescriptionCredential"],
      "issuer": "did:example:ebfeb1f712ebc6f1c276e12ec21",
      "issued": "2010-01-03",
      "claim": {
        "id": "did:example:76e12ec21ebhyu1f712ebc6f1z2",
        "prescription": {....}
      },
      "proof": {
        "type": "RsaSignature2018",
        "created": "2017-06-17T10:03:48Z",
        "creator": "did:example:ebfeb1f712ebc6f1c276e12ec21/keys/234",
        "nonce": "d61c4599-0cc2-4479-9efc-c63add3a43b2",
        "signatureValue": "pYw8XNi1..Cky6Ed="
      }
    }
  ],
  "proof": [{
    "type": "RsaSignature2018",
    "created": "2017-06-18T21:19:10Z",
    "creator": "did:example:76e12ec21ebhyu1f712ebc6f1z2/keys/2",
    "nonce": "c0ae1c8e-c7e7-469f-b252-86e6a0e7387e",
    "signatureValue": "BavEll0/I1..W3JT24="
  }]
}
        </pre>

        <p>
In the above example, a patient (the original subject) has passed a prescription
(the original verifiable credential) to a friend, and has issued a new verifiable
credential to the friend, in which the friend is the subject, the original subject is
the issuer, and the credential is a copy of the original prescription.
        </p>
      </section>
    </section>
  </body>
</html>

