<!DOCTYPE html>
<html>
  <head>
    <title>Verifiable Claims Data Model and Representations</title>
    <meta http-equiv='Content-Type' content='text/html;charset=utf-8'/>
    <!--
      === NOTA BENE ===
      For the three scripts below, if your spec resides on dev.w3 you can check them
      out in the same tree and use relative links so that they'll work offline,
     -->
    <link rel="stylesheet" href="spec.css">
    <script src='http://www.w3.org/Tools/respec/respec-w3c-common' class='remove'></script>
    <script src="../common/common.js"></script>
    <script type="text/javascript" class="remove">
      var respecConfig = {
        // specification status (e.g. WD, LCWD, NOTE, etc.). If in doubt use ED.
        specStatus: "CG-DRAFT",

        // the specification's short name, as in http://www.w3.org/TR/short-name/
        shortName: "claims-data-model",

        // if you wish the publication date to be other than today, set this
        // publishDate:  "2009-08-06",

        // if there is a previously published draft, uncomment this and set its YYYY-MM-DD date
        // and its maturity status
        // previousPublishDate:  "1977-03-15",
        // previousMaturity:  "WD",

        // extend the bibliography entries
        localBiblio: opencreds.localBiblio,

        issueBase: "https://github.com/opencreds/website/issues/",
        githubAPI: "https://api.github.com/repos/opencreds/website",

        // if there a publicly available Editor's Draft, this is the link
        edDraftURI: "https://opencreds.github.org/website/specs/source/claims-data-model/index.html",

        // if this is a LCWD, uncomment and set the end of its review period
        // lcEnd: "2009-08-05",

        // editors, add as many as you like
        // only "name" is required
        editors:  [
          { name: "Daniel C. Burnett", 
            company: "Standards Play", companyURL: "http://standardsplay.com/"},
          { name: "Shane McCarron", url: "http://blog.halindrome.com.com/",
            company: "Spec-Ops", companyURL: "https://spec-ops.io/", w3cid: "23346" },
          { name: "Manu Sporny", url: "http://digitalbazaar.com/",
            company: "Digital Bazaar, Inc.", companyURL: "http://digitalbazaar.com/" },
          { name: "Dave Longley", url: "http://digitalbazaar.com/",
            company: "Digital Bazaar, Inc.", companyURL: "http://digitalbazaar.com/"}
        ],

        // authors, add as many as you like.
        // This is optional, uncomment if you have authors as well as editors.
        // only "name" is required. Same format as editors.
        authors:  
        [
          { name: "Manu Sporny", url: "http://digitalbazaar.com/",
            company: "Digital Bazaar, Inc.", companyURL: "http://digitalbazaar.com/" },
          { name: "Dave Longley", url: "http://digitalbazaar.com/",
            company: "Digital Bazaar, Inc.", companyURL: "http://digitalbazaar.com/"}
        ],

        // name of the WG
        wg:           "W3C Credentials Community Group",

        // URI of the public WG page
        wgURI:        "http://www.w3.org/community/credentials/",

        // name (with the @w3c.org) of the public mailing to which comments are due
        wgPublicList: "public-credentials",

        // URI of the patent status for this WG, for Rec-track documents
        // !!!! IMPORTANT !!!!
        // This is important for Rec-track documents, do not copy a patent URI from a random
        // document unless you know what you're doing. If in doubt ask your friendly neighbourhood
        // Team Contact.
        wgPatentURI:  "",
        maxTocLevel: 4,
        otherLinks: [{
          key: "Version control",
          data: [{
            value: "Github Repository",
            href: "https://github.com/opencreds/website"
          }, {
            value: "Issues",
            href: "https://github.com/opencreds/website/issues"
          }]
        }],
        inlineCSS: true
      };
    </script>
  </head>
  <body>
    <section id='abstract'>
      <p>Abstract goes here</p>
    </section>

    <section id='sotd'>
      <p>SOTD goes here</p>
    </section>

    <section>
      <h2>Introduction</h2>
      <p>&nbsp;</p>
    </section>

    <section>
      <h2>Terminology</h2>

      <div data-include="../common/terms.html"
        data-oninclude="restrictReferences">
      </div>

    </section>

    <section>
      <h2>Data Model</h2>
      <p>This section describes a data model for identities, claims, and
      verifiable claims that is compatible with the requirements and
      use cases expected to be addressed by this group.</p>

      <section>
        <h2>General Characteristics</h2>
        <p>Both identities and claims, including verifiable claims,
        consist of a collection of name-value pairs which will be
        referred to as
        <dfn data-lt="property|properties">properties</dfn> in this
        document.  The following subsections describe the required and
        optional properties for both.  The link between the two is in
        the <var>id</var> property.  An Identity data set defines the
        identifier given in
        the <a data-lt="identity-id"><var>id</var></a> property, while
        a Claim data set uses the <var>id</var> property to refer to
        the Identity data set that defines the given <var>id</var>
        value.</p>
        <p>This document purposely defines the data model without
        using WebIDL, JSON, JSON-LD, or XML since users of all of
        those representations are expected.
        Section <a href="#expressing-identities-and-claims"></a>
        defines how the data model is to be expressed in those
        representation languages.</p>
      </section>

      <section>
        <h2><dfn data-lt="identity|identities">Identities</dfn></h2>
        <p>Unlike with <a>claims</a>, the <a>properties</a> in an
        Identity are merely properties that, together with an
        identifier <a data-lt="identity-id"><var>id</var></a>,
        constitute an identity.  The properties are not claims and are
        not intended to be verifiable.</p>
        <p>The following properties are required in an Identity:</p>
        <dl>
          <dt><var><dfn data-lt="identity-id">id</dfn></var></dt>
          <dd>This is an Identity URI.</dd>
          <dt><var>type</var></dt>
          <dd>This is a sequence of types, or classes, of which this data
          set is a member.  As an Identity, at a minimum the class
          "Identity" must be the first value in the sequence.  Additional
          application-specific values are permitted in the sequence.</dd>
        </dl>
        <p>The following properties are optional in an Identity:</p>
        <dl>
          <dt><var>signature</var></dt>
          <dd>&nbsp;</dd>
        </dl>
        <p>Additionally, any property name not listed above is
        permitted as an optional custom property.</p>
      </section>

      <section>
        <h2><dfn>Claims</dfn></h2>
        <p>For notational convenience, in this document the container
        for a collection of Claims will be referred to as
        a <dfn>Credential</dfn>.  Unlike with <a>identities</a>,
        the <a>properties</a> in a Credential are claims made by
        an entity about an identity.  As such, the data model includes
        both issuance-related properties and a <a><var>claim</var></a>
        property that further contains the properties of the claim
        itself.</p>
        <p>The following properties are required in a Credential:</p>
        <dl>
          <dt><var><dfn data-lt="claim-id">id</dfn></var></dt>
          <dd>Claim URI</dd>
          <dt><var>type</var></dt>
          <dd>This is a sequence of types, or classes, of which this data
          set is a member.  As a Claim, at a minimum the class
          "Credential" must be the first value in the sequence.  Additional
          application-specific values are permitted in the sequence.</dd>
          <dt><var><dfn>claim</dfn></var></dt>
          <dd>This is the actual claim.  Its value is a set of
          properties as follows:
            <p>The following properties are required in
            a <var>claim</var> value:</p>
            <dl>
              <dt><var><dfn data-lt="claim-id">id</dfn></var></dt>
              <dd>The property value is expected to be a valid
              <a data-lt="identity-id">Identity <var>id</var></a>.</dd>
              <dt>At least one custom property</dt>
              <dd>N/A</dd>
            </dl>
           <p>Additionally, any property name not listed above is
           permitted as an optional custom property.</p>
	  </dd>
        </dl>
        <p>The following properties are optional in a Credential:</p>
        <dl>
          <dt><var>issuer</var></dt>
          <dd>This is a URI for the issuer of the claim.</dd>
          <dt><var>issued</var></dt>
          <dd>This is the date, in string format, when the claim was
          issued.</dd>
        </dl>
        <p>Additionally, any property name not listed above is
        permitted as an optional custom property.</p>
      </section>

      <section>
        <h2><dfn>Verifiable Claims</dfn></h2>
        <p>The claims in a <a>Credential</a> can be made verifiable by
        adding the following property to the Credential:</p>
        <dl>
          <dt><var>signature</var></dt>
          <dd>The method used for a signature will vary by
          representation language.  However, this property is expected
          to have a value that is a set of name-value pairs including
          at least a signature, a reference to the signing entity, and
          a representation of the signing date.</dd>
        </dl>
      </section>
    </section>

    <section>
      <h2>Expressing Identities and Claims</h2>

      <p>This section defines how the data model described in
      Section <a href="data-model"></a> is realized in each of 3
      different languages: JSON, JSON-LD, and WebIDL.  Applications
      and services may also use any other language that can support
      the data model.
      </p>

      <section>
        <h2>Expressing Identities and Claims in JSON</h2>
        <section>
          <h2>Expressing an Identity in JSON</h2>
            <p>In JSON, an Identity data set is expressed as a single
            JSON object whose properties are the identity's
            properties, with the following value type assignments:</p>
            <ul>
              <li>Any number value MUST be represented as a Number type.</li>
              <li>Any boolean value MUST be representd as a Boolean type.</li>
              <li>Any set value MUST be represented as an Object type.</li>
              <li>Any sequence value MUST be represented as an Array type.</li>
              <li>Any empty value MUST be represented as a null value.</li>
              <li>Any other value MUST be represented as a String type.</li>
            </ul>
	    <p>The following example demonstrates how to express a
	    simple identity.</p>

<pre class="example" title="A simple identity">{
  "id": "did:ebfeb1f712ebc6f1c276e12ec21",
  "type": ["Identity", "Person"],
  "name": "Alice Bobman",
  "email": "alice@example.com",
  "birthDate": "1985-12-14",
  "telephone": "12345678910"
}</pre>
        </section>

        <section>
          <h2>Expressing Claims in JSON</h2>
            <p>In JSON, a <a>Credential</a> is expressed as a single
            JSON object whose properties are the claim's
            properties, with the following value type assignments:</p>
            <ul>
              <li>Any number value MUST be represented as a Number type.</li>
              <li>Any boolean value MUST be representd as a Boolean type.</li>
              <li>Any set value MUST be represented as an Object type.</li>
              <li>Any sequence value MUST be represented as an Array type.</li>
              <li>Any empty value MUST be represented as a null value.</li>
              <li>Any other value MUST be represented as a String type.</li>
            </ul>
            <p>The following example demonstrates how to express a
            simple (unverifiable) claim about a particular
            identity. In this case, the claim is that
            the <a>entity</a> with the <a>identity</a> identified by
            <code>did:ebfeb1f712ebc6f1c276e12ec21</code> is 21 years
            of age or older. While a human reading the
            property <code>ageOver</code> may be able to guess its
            meaning by its name, no machine-readable semantics for the
            name are provided. There is information about the claim
            itself, such as an identifier for the entity that issued
            it and a date for when it was issued. </p>

<pre class="example" title="A simple claim">{
  "id": "http://example.gov/credentials/3732",
  "type": ["Credential", "ProofOfAgeCredential"],
  "issuer": "https://dmv.example.gov",
  "issued": "2010-01-01",
  "claim": {
    "id": "did:ebfeb1f712ebc6f1c276e12ec21",
    "ageOver": 21
  }
}</pre>

            <p>The following example demonstrates how to express the
            same claim about the same identity, but in a verifiable
            form. As such, it contains a <code>signature</code> that
            can be used to verify its entire contents, including the
            claim.</p>

<pre class="example" title="A simple verifiable claim">{
  "id": "http://example.gov/credentials/3732",
  "type": ["Credential", "ProofOfAgeCredential"],
  "issuer": "https://dmv.example.gov",
  "issued": "2010-01-01",
  "claim": {
    "id": "did:ebfeb1f712ebc6f1c276e12ec21",
    "ageOver": 21
  },
  "signature": {
    "type": "LinkedDataSignature2015",
    "creator": "https://dmv.example.gov/keys/6",
    "signature": "2332f32g43ve23g23g23g/g3223gegvgre212fb488vh"
  }
}</pre>

        <p>
The following example demonstrates how to express a more complex set
of verfiable claims about a particular identity.
        </p>

<pre class="example" title="A more complex verifiable claim">{
  "id": "http://example.gov/credentials/3732",
  "type": ["Credential", "PassportCredential"],
  "name": "Passport",
  "issuer": "https://example.gov",
  "issued": "2010-01-01",
  "claim": {
    "id": "did:ebfeb1f712ebc6f1c276e12ec21",
    "name": "Alice Bobman",
    "birthDate": "1985-12-14",
    "gender": "female",
    "nationality": {
      "name": "United States"
    },
    "address": {
      "type": "PostalAddress",
      "addressStreet": "372 Sumter Lane",
      "addressLocality": "Blackrock",
      "addressRegion": "Nevada",
      "postalCode": "23784",
      "addressCountry": "US"
    },
    "passport": {
      "type": "Passport",
      "name": "United States Passport",
      "documentId": "123-45-6789",
      "issuer": "https://example.gov",
      "issued": "2010-01-07T01:02:03Z",
      "expires": "2020-01-07T01:02:03Z"
    }
  },
  "signature": {
    "type": "LinkedDataSignature2015",
    "creator": "https://example.gov/keys/27",
    "signature": "3780eyfh3q0fhhfiq3q9f8ahsidfhf29rhaish"
  }
}</pre>
        </section>
      </section>

      <section>
        <h2>Expressing Identities and Claims in JSON-LD</h2>
        <section>
          <h2>Expressing an Identity in JSON-LD</h2>
            <p>Identities are expressed in JSON-LD in the same way
            they are expressed in JSON (***link***), except that there
            is an additional property <code>@context</code>.  Each
            property of the identity, such as <code>name</code>
            or <code>email</code>, is given context via
            the <code>@context</code> value. Other contexts can be
            used or combined to express any arbitrary information
            about an identity in idiomatic JSON.  </p>
	    <p>The following example demonstrates how to express a
	    simple identity.</p>

<pre class="example" title="A simple identity">{
  "@context": "https://w3id.org/identity/v1",
  "id": "did:ebfeb1f712ebc6f1c276e12ec21",
  "type": ["Identity", "Person"],
  "name": "Alice Bobman",
  "email": "alice@example.com",
  "birthDate": "1985-12-14",
  "telephone": "12345678910"
}</pre>
        </section>

        <section>
          <h2>Expressing Claims in JSON-HD</h2>
            <p>Claims are expressed in JSON-LD in the same way they
            are expressed in JSON (***link***), except that there is
            an additional property <code>@context</code>.  Each
            property of the <a>Credential</a>, and within
            the <code>claim</code> property itself, such as the
            generic <code>issuer</code> property or the
            app-specific <code>ageOver</code>, is given context via
            the <code>@context</code> value. Other contexts can be
            used or combined to express any arbitrary information
            about claims in idiomatic JSON.</p>

            <p>The following example demonstrates how to express a
            simple (unverifiable) claim about a particular
            identity. In this case, the claim is that
            the <a>entity</a> with the <a>identity</a> identified
            by <code>did:ebfeb1f712ebc6f1c276e12ec21</code> is 21
            years of age or older. While a human reading the
            property <code>ageOver</code> may be able to guess its
            meaning by its name, the context maps it a global
            identifier (URL) where a document could be retrieved that
            provides its semantics in a machine-readable data
            format. There is also information about the claim itself,
            such as an identifier for the entity that issued it and a
            date for when it was issued.</p>

<pre class="example" title="A simple claim">{
  "@context": "https://w3id.org/identity/v1",
  "id": "http://example.gov/credentials/3732",
  "type": ["Credential", "ProofOfAgeCredential"],
  "issuer": "https://dmv.example.gov",
  "issued": "2010-01-01",
  "claim": {
    "id": "did:ebfeb1f712ebc6f1c276e12ec21",
    "ageOver": 21
  }
}</pre>

            <p>The following example demonstrates how to express the
            same claim about the same identity, but in a verifiable
            form. As such, it contains a <code>signature</code> that
            can be used to verify its entire contents, including the
            claim.</p>

<pre class="example" title="A simple verifiable claim">{
  "@context": "https://w3id.org/identity/v1",
  "id": "http://example.gov/credentials/3732",
  "type": ["Credential", "ProofOfAgeCredential"],
  "issuer": "https://dmv.example.gov",
  "issued": "2010-01-01",
  "claim": {
    "id": "did:ebfeb1f712ebc6f1c276e12ec21",
    "ageOver": 21
  },
  "signature": {
    "type": "LinkedDataSignature2015",
    "creator": "https://dmv.example.gov/keys/6",
    "signature": "2332f32g43ve23g23g23g/g3223gegvgre212fb488vh"
  }
}</pre>

        <p>
The following example demonstrates how to express a more complex set
of verifiable claims about a particular identity.
        </p>

<pre class="example" title="A more complex verifiable claim">{
  "@context": "https://w3id.org/identity/v1",
  "id": "http://example.gov/credentials/3732",
  "type": ["Credential", "PassportCredential"],
  "name": "Passport",
  "issuer": "https://example.gov",
  "issued": "2010-01-01",
  "claim": {
    "id": "did:ebfeb1f712ebc6f1c276e12ec21",
    "name": "Alice Bobman",
    "birthDate": "1985-12-14",
    "gender": "female",
    "nationality": {
      "name": "United States"
    },
    "address": {
      "type": "PostalAddress",
      "addressStreet": "372 Sumter Lane",
      "addressLocality": "Blackrock",
      "addressRegion": "Nevada",
      "postalCode": "23784",
      "addressCountry": "US"
    },
    "passport": {
      "type": "Passport",
      "name": "United States Passport",
      "documentId": "123-45-6789",
      "issuer": "https://example.gov",
      "issued": "2010-01-07T01:02:03Z",
      "expires": "2020-01-07T01:02:03Z"
    }
  },
  "signature": {
    "type": "LinkedDataSignature2015",
    "creator": "https://example.gov/keys/27",
    "signature": "3780eyfh3q0fhhfiq3q9f8ahsidfhf29rhaish"
  }
}</pre>
        </section>
      </section>

      <section>
        <h2>Expressing Identities and Claims in WebIDL</h2>

        <section>
          <h2>Expressing an Identity in WebIDL</h2>
            <p>In WebIDL, an Identity data set is expressed as an
            Interface whose attributes are the identity's properties,
            with the following value type assignments:</p>
            <ul>
              <li>Any number value MUST be represented as an
              appropriate valid numeric type, e.g. double or unsigned
              long.</li>
              <li>Any boolean value MUST be represented as a boolean type.</li>
              <li>Any set value MUST be represented as either an
              Interface or Dictionary type.</li>
              <li>Any sequence value MUST be represented as a sequence
              type.</li>
              <li>Any property whose value may be null MUST be marked
              as nullable.</li>
              <li>Any other value MUST be represented as either an
              Enumeration type or a DOMString type, depending on
              whether the values are expected to be selected from a
              restricted, pre-determined set or are expected to be
              either unrestricted or extended in the future.</li>
            </ul>
	    <p>The following example demonstrates how to express a
	    simple identity.</p>

<pre class="idl">
[Constructor]
interface Identity {
    attribute DOMString id;
    attribute FrozenArray&lt;DOMString> types;
    attribute DOMString name;
    attribute DOMString email;
    attribute DOMString birthDate;
    attribute DOMString telephone;
};
</pre>

            <p>The Identity could then be used as follows in JavaScript:</p>

<pre class="highlight example" title="Using a simple identity">
  var identity = new Identity();
  identity.id = "did:ebfeb1f712ebc6f1c276e12ec21";
  identity.type = ["Identity", "Person"];
  identity.name = "Alice Bobman";
  identity.email = "alice@example.com";
  identity.birthDate = "1985-12-14";
  identity.telephone = "12345678910";
</pre>
        </section>

        <section>
          <h2>Expressing Claims in WebIDL</h2>
            <p>In WebIDL, a <a>Credential</a> is expressed as an
            Interface whose attributes are the claim's properties,
            with the following value type assignments:</p>
            <ul>
              <li>Any number value MUST be represented as an
              appropriate valid numeric type, e.g. double or unsigned
              long.</li>
              <li>Any boolean value MUST be representd as a boolean type.</li>
              <li>Any set value MUST be represented as either an
              Interface or Dictionary type.</li>
              <li>Any sequence value MUST be represented as a sequence
              type.</li>
              <li>Any property whose value may be null MUST be marked
              as nullable.</li>
              <li>Any other value MUST be represented as either an
              Enumeration type or a DOMString type, depending on
              whether the values are expected to be selected from a
              restricted, pre-determined set or are expected to be
              either unrestricted or extended in the future.</li>
            </ul>
            <p>The following example demonstrates how to express a
            simple (unverifiable) claim about a particular
            identity. In this case, the claim is that
            the <a>entity</a> with the <a>identity</a> identified by
            <code>did:ebfeb1f712ebc6f1c276e12ec21</code> is 21 years
            of age or older. While a human reading the
            property <code>ageOver</code> may be able to guess its
            meaning by its name, no machine-readable semantics for the
            name are provided. There is information about the claim
            itself, such as an identifier for the entity that issued
            it and a date for when it was issued. </p>

<pre class="idl">
  interface CredentialBase {
    attribute DOMString id;
    attribute FrozenArray&lt;DOMString> type;
    attribute DOMString issuer;
    attribute DOMString issued;
  };

  [Constructor]
  interface Credential : CredentialBase {
    attribute Claim1 claim;
  };

  [Constructor]
  interface Claim1 {
    attribute DOMString id;
    attribute unsigned short ageOver;
  };
</pre>

            <p>The Credential could then be used as follows in JavaScript:</p>

<pre class="example" title="Using a simple claim">
  var claim = new Claim1();
  claim.id = "http://example.gov/credentials/3732";
  claim.ageOver = 21;

  var credential = new Credential();
  credential.type = ["Credential", "ProofOfAgeCredential"];
  credential.issuer = "https://dmv.example.gov";
  credential.issued = "2010-01-01";
  credential.claim = claim;
</pre>

            <p>The following example demonstrates how to express the
            same claim about the same identity, but in a verifiable
            form. As such, the Credential contains
            a <code>signature</code> that can be used to verify its
            entire contents, including the claim.</p>

<pre class="idl">
  interface VerifiableCredentialBase : CredentialBase {
    attribute Signature signature;
  };

  [Constructor]
  interface Signature {
    attribute DOMString type;
    attribute DOMString creator;
    attribute DOMString signature;
  };

  [Constructor]
  interface VerifiableCredential1 : VerifiableCredentialBase {
    attribute Claim1 claim;
  };
</pre>
            <p>The Verifiable Credential could then be used as follows in
            JavaScript:</p>

<pre class="example" title="Using a simple verifiable claim">
  var claim = new Claim1();
  claim.id = "http://example.gov/credentials/3732";
  claim.ageOver = 21;

  var signature = new Signature();
  signature.type = "LinkedDataSignature2015";
  signature.creator = "https://dmv.example.gov/keys/6";
  signature.signature = "2332f32g43ve23g23g23g/g3223gegvgre212fb488vh";

  var credential = new VerifiableCredential1();
  credential.type = ["Credential", "ProofOfAgeCredential"];
  credential.issuer = "https://dmv.example.gov";
  credential.issued = "2010-01-01";
  credential.claim = claim;
  credential.signature = signature;
</pre>

        <p>
The following example demonstrates how to express a more complex set
of verfiable claims about a particular identity.
        </p>

<pre class="idl">
  [Constructor]
  interface VC2 : VerifiableCredentialBase {
    attribute DOMString name;
    attribute Claim2 claim;
  };

  [Constructor]
  interface Claim2 {
    attribute DOMString id;
    attribute DOMString name;
    attribute DOMString birthDate;
    attribute Gender gender;
    attribute Nationality nationality;
    attribute Address address;
    attribute Passport passport;
  };

  enum Gender {"male", "female"};

  [Constructor]
  interface Nationality {
    attribute DOMString name;
  };

  [Constructor]
  interface Address {
    attribute DOMString type;
    attribute DOMString addressStreet;
    attribute DOMString addressLocality;
    attribute DOMString addressRegion;
    attribute DOMString postalCode;
    attribute DOMString addressCountry;
  };

  [Constructor]
  interface Passport {
    attribute DOMString type;
    attribute DOMString name;
    attribute DOMString documentId;
    attribute DOMString issuer;
    attribute DOMString issued;
    attribute DOMString expires;
  };
</pre>
            <p>The Verifiable Credential could then be used as follows in
            JavaScript:</p>

<pre class="example" title="Using a more complex verifiable claim">{
  var nationality = new Nationality();
  nationality.name = "United States";

  var address = new Address();
  address.type = "PostalAddress";
  address.addressStreet = "372 Sumter Lane";
  address.addressLocality = "Blackrock";
  address.addressRegion = "Nevada";
  address.postalCode = "23784";
  address.addressCountry = "US";

  var passport = new Passport();
  passport.type = "Passport";
  passport.name = "United States Passport";
  passport.documentId = "123-45-6789";
  passport.issuer = "https://example.gov";
  passport.issued = "2010-01-07T01:02:03Z";
  passport.expires = "2020-01-07T01:02:03Z";

  var claim = new Claim2();
  claim.id = "did:ebfeb1f712ebc6f1c276e12ec21";
  claim.name = "Alice Bobman";
  claim.birthDate = "1985-12-14";
  claim.gender = "female";
  claim.nationality = nationality;
  claim.address = address;
  claim.passport = passport;

  var signature = new Signature();
  signature.type = "LinkedDataSignature2015";
  signature.creator = "https://example.gov/keys/27";
  signature.signature = "3780eyfh3q0fhhfiq3q9f8ahsidfhf29rhaish";

  var vc = new VC2();
  vc.id = "http://example.gov/credentials/3732";
  vc.type = ["Credential", "PassportCredential"];
  vc.name = "Passport";
  vc.issuer = "https://example.gov";
  vc.issued = "2010-01-01";
  vc.claim = claim;
  vc.signature = signature;
}</pre>
        </section>
      </section>
    </section>

    <section class='appendix'>
      <h2>Original abstract</h2>
      <p>
An <a>identity</a> is a collection of attributes about an entity that
distinguish it from other entities. Entities are anything with distinct
existence, such as people, organizations, concepts, or devices. Some entities,
such as people, are multifaceted, having multiple identities that they present
to the world. People are often able to establish trust by demonstrating that
others have made valuable claims about their identities. One way of doing this
is by presenting a <a>credential</a>. A <a>credential</a> is a set of
<a>claims</a> made by an <a>entity</a> about an <a>identity</a>. A
<a>credential</a> may refer to a qualification, achievement, quality, or other
information about an <a>identity</a> such as a name, government ID, home
address, or university degree that typically indicates suitability.
      </p>
      <p>
This specification describes how to express a digital <a>identity</a> and a
collection of digital <a>credentials</a> that assert <a>claims</a> about that
<a>identity</a>. It also describes a set of mechanisms for issuing and
requesting <a>credentials</a>.
      </p>
    </section>

    <section class="appendix">
      <h2>Original SOTD</h2>
      <p>This is an experimental specification that is attempting to unify the
work performed in the Credentials Community Group, the Web Payments Community
Group, the Linked Data community, the WebID Community Group, and the Mozilla
Persona team. As such, the specification borrows a number of concepts from each
group. It attempts to synthesize these concepts into a comprehensive solution
that can be easily implemented and deployed by Web developers in order to help
foster a rich ecosystem of digital identities and credentials on the Web.
      </p>

      <p class="issue">
This spec hasn't been updated in many months and the work has evolved quite
a bit since then. An update will occur as soon as other supporting documents
are in order and time permits. -- 9/24/15
      </p>

      <p class="issue">
Add a section specifying how blank nodes or pseudonyms can be used for
self-signed and IdP-asserted credentials.
      </p>

      <p class="issue">
Add a security/privacy consideration section that clearly marks out that
a single key should not be used for authentication at all websites and
that specifies how a different CryptographicKeyCredential can be generated
and signed by an IdP for every new origin visited. Add a note that this
approach is only for presenting identities that contain attributes that
are asserted by self-signed or IdP-asserted credentials.

This section should also detail best practices for creating a number of
separate identities that aggregate credentials asserted by different third
parties that are intended to be linked. There should be no doubt that this
system is engineered to support many different identities per individual user.
      </p>

    <p class="issue">
Add a section about revocation that also includes privacy concerns (leakage
of credential use at particular consumers to issuers). Specify how
credentials may self-describe their revocation rules and how issuers may
either publish revocation status credentials that can be aggregated over time
or on demand by IdPs or how they can periodically resign previously issued
credentials with new revocation validity periods (and these credentials can
then be refetched by users, IdPs, or authorized value-add third party services).
    </p>

    <p class="issue">
Add a section on the conversion of certain credentials, by anonymizer services,
to short-lived bearer credentials. These bearer credentials allow information
to be asserted with a level of trust that is dependent upon the anonymizer
service (which may actually be the same issuer that issued a credential), but
can be used to help enhance privacy.
    </p>

    <p class="issue">
Add a section on the use of ephemeral keys for public terminal use.
    </p>

    <p class="issue">
Add a section on integration with hardware security devices, FIDO, etc.
    </p>

    <p class="issue">
Add a section credential revocation. Indicate that credentials can specify
revocation policies/validity periods before revocation needs to be checked
again and that IdPs can fetch digitally-signed up-to-date credentials and/or
revocation information from issuers that can be forwarded to consumers
by the user agent (one privacy protecting mechanism for checking revocation).
    </p>
    </section>

    <section class="appendix">
      <h2>Original Introduction</h2>
      <p>An <a>identity</a> is a set of information that can be used to identify
a particular <a>entity</a>. Entities are anything with distinct existence,
such as a person, organization, concept, or device. We typically use
<a>credentials</a>, or claims made by others about our identities, to
authenticate ourselves and ultimately gain access to various services. For
example, we use email addresses to identify ourselves to online services,
driver's licenses to prove that we are capable of operating a motor vehicle,
university degrees to prove we are well-trained and knowledgeable, and
government-issued passports to travel between countries or to access financial
services. It is the goal of this specification to provide an easy, standard
way to express, issue, and consume identity credentials on the Web.
      </p>
      <p>
There are a number of desirable capabilities for credentials that have been
identified as requirements for this specification:
      </p>
      <ul>
        <li>
Credentials are user-centric. This refers to an architecture where:
          <ul>
            <li>
Credential holders are positioned in the middle between issuers and consumers.
            </li>
            <li>
Credential holders receive and store credentials from issuers through an
agent that the issuer does not need to trust.
            </li>
            <li>
Credential holders provide credentials to credential consumers through
an agent that consumers needn't trust; they only need to trust issuers.
            </li>
            <li>
Credentials are associated with identities, not particular services; credential
holders can decide how to aggregate credentials and manage their own
identities.
            </li>
            <li>
Credential holders can control and own their own identifiers.
            </li>
            <li>
Credential holders can control which credentials to use and when.
            </li>
            <li>
Credential holders may freely choose and swap out the agents they employ to
help them manage and share their credentials.
            </li>
            <li>
Credential holders that share verifiable claims are not required to reveal the
identity of the consumer to their agent or to issuers.
            </li>
          </ul>
        </li>
        <li>
A standard, machine-readable data format for expressing identity credentials
that can be extended with minimal coordination.
        </li>
        <li>
Independent issuance, storage, and cryptographic verification of credentials.
        </li>
        <li>
A standard mechanism for requesting credentials.
        </li>
        <li>
The ability to revoke previously issued credentials.
        </li>
        <li>
Web Browser APIs for storing and consuming credentials.
        </li>
      </ul>
      <p>
In order to store the unbounded variety of attributes that could be claimed
in identity credentials, a simple but extensible data model is utilized.
The specification uses a data storage and expression approach called
<a href="http://www.w3.org/TR/ld-glossary/#linked-data">Linked Data</a>. It
is a way of expressing information on the Web that is both simple and
extensible. Specifically, the Linked Data technology used by this specification
is JSON-LD [[!JSON-LD]].
      </p>
    </section>

    <section class="appendix">
        <h2>Expressing Credentials in an Identity</h2>

        <p>
The following example demonstrates how to express one or more credentials along
with an identity. This approach allows one to express an identity and some
credentials that assert certain properties about it without losing data
fidelity. Because Linked Data is a graph-based format and credentials have been
digitally-signed as independent graphs of information, they are expressed using
the <code>@graph</code> keyword. An application that receives an
<a>identity</a> in this format can be ensured that the credential data won't be
accidentally mixed with data in any other graphs in the
<a>identity document</a>. Once the application has verified the digital
signatures in each credential, it can safely merge all of the claim data into a
single graph of information about the identity.
        </p>

<pre class="example" title="An identity with a credential">{
  "@context": "https://w3id.org/identity/v1",
  "id": "did:ebfeb1f712ebc6f1c276e12ec21",
  "type": ["Identity", "Person"],
  "name": "Alice Bobman",
  "email": "alice@example.com",
  "birthDate": "1985-12-14",
  "telephone": "12345678910",
  "credential": [{
    "@graph": {
      "@context": "https://w3id.org/identity/v1",
      "id": "http://example.gov/credentials/3732",
      "type": ["Credential", "PassportCredential"],
      "name": "Passport",
      "issuer": "https://example.gov",
      "issued": "2010-01-01",
      "claim": {
        "id": "did:ebfeb1f712ebc6f1c276e12ec21",
        "name": "Alice Bobman",
        "birthDate": "1985-12-14",
        "gender": "female",
        "nationality": {
          "name": "United States"
        },
        "address": {
          "type": "PostalAddress",
          "addressStreet": "372 Sumter Lane",
          "addressLocality": "Blackrock",
          "addressRegion": "Nevada",
          "postalCode": "23784",
          "addressCountry": "US"
        },
        "passport": {
          "type": "Passport",
          "name": "United States Passport",
          "documentId": "123-45-6789",
          "issuer": "https://example.gov",
          "issued": "2010-01-07T01:02:03Z",
          "expires": "2020-01-07T01:02:03Z"
        }
      },
      "signature": {
        "type": "LinkedDataSignature2015",
        "creator": "https://example.gov/keys/27",
        "signature": "3780eyfh3q0fhhfiq3q9f8ahsidfhf29rhaish"
      }
    }
  }]
}</pre>
    </section>

  </body>
</html>

